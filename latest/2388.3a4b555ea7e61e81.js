(self.webpackChunkseed_tester=self.webpackChunkseed_tester||[]).push([[2388],{9662:(l,P,t)=>{var s=t(614),i=t(6330),a=TypeError;l.exports=function(u){if(s(u))return u;throw a(i(u)+" is not a function")}},9483:(l,P,t)=>{var s=t(4411),i=t(6330),a=TypeError;l.exports=function(u){if(s(u))return u;throw a(i(u)+" is not a constructor")}},6077:(l,P,t)=>{var s=t(614),i=String,a=TypeError;l.exports=function(u){if("object"==typeof u||s(u))return u;throw a("Can't set "+i(u)+" as a prototype")}},1223:(l,P,t)=>{var s=t(5112),i=t(30),a=t(3070).f,u=s("unscopables"),d=Array.prototype;null==d[u]&&a(d,u,{configurable:!0,value:i(null)}),l.exports=function(p){d[u][p]=!0}},1530:(l,P,t)=>{var s=t(8710).charAt;l.exports=function(i,a,u){return a+(u?s(i,a).length:1)}},5787:(l,P,t)=>{var s=t(7976),i=TypeError;l.exports=function(a,u){if(s(u,a))return a;throw i("Incorrect invocation")}},9670:(l,P,t)=>{var s=t(111),i=String,a=TypeError;l.exports=function(u){if(s(u))return u;throw a(i(u)+" is not an object")}},1318:(l,P,t)=>{var s=t(5656),i=t(1400),a=t(6244),u=function(d){return function(p,h,E){var T,O=s(p),m=a(O),S=i(E,m);if(d&&h!=h){for(;m>S;)if((T=O[S++])!=T)return!0}else for(;m>S;S++)if((d||S in O)&&O[S]===h)return d||S||0;return!d&&-1}};l.exports={includes:u(!0),indexOf:u(!1)}},206:(l,P,t)=>{var s=t(1702);l.exports=s([].slice)},7072:(l,P,t)=>{var i=t(5112)("iterator"),a=!1;try{var u=0,d={next:function(){return{done:!!u++}},return:function(){a=!0}};d[i]=function(){return this},Array.from(d,function(){throw 2})}catch{}l.exports=function(p,h){if(!h&&!a)return!1;var E=!1;try{var O={};O[i]=function(){return{next:function(){return{done:E=!0}}}},p(O)}catch{}return E}},4326:(l,P,t)=>{var s=t(1702),i=s({}.toString),a=s("".slice);l.exports=function(u){return a(i(u),8,-1)}},648:(l,P,t)=>{var s=t(1694),i=t(614),a=t(4326),d=t(5112)("toStringTag"),p=Object,h="Arguments"==a(function(){return arguments}());l.exports=s?a:function(O){var m,S,T;return void 0===O?"Undefined":null===O?"Null":"string"==typeof(S=function(O,m){try{return O[m]}catch{}}(m=p(O),d))?S:h?a(m):"Object"==(T=a(m))&&i(m.callee)?"Arguments":T}},9920:(l,P,t)=>{var s=t(2597),i=t(3887),a=t(1236),u=t(3070);l.exports=function(d,p,h){for(var E=i(p),O=u.f,m=a.f,S=0;S<E.length;S++){var T=E[S];!s(d,T)&&(!h||!s(h,T))&&O(d,T,m(p,T))}}},4964:(l,P,t)=>{var i=t(5112)("match");l.exports=function(a){var u=/./;try{"/./"[a](u)}catch{try{return u[i]=!1,"/./"[a](u)}catch{}}return!1}},8544:(l,P,t)=>{var s=t(7293);l.exports=!s(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},6178:l=>{l.exports=function(P,t){return{value:P,done:t}}},8880:(l,P,t)=>{var s=t(9781),i=t(3070),a=t(9114);l.exports=s?function(u,d,p){return i.f(u,d,a(1,p))}:function(u,d,p){return u[d]=p,u}},9114:l=>{l.exports=function(P,t){return{enumerable:!(1&P),configurable:!(2&P),writable:!(4&P),value:t}}},8052:(l,P,t)=>{var s=t(614),i=t(3070),a=t(6339),u=t(3072);l.exports=function(d,p,h,E){E||(E={});var O=E.enumerable,m=void 0!==E.name?E.name:p;if(s(h)&&a(h,m,E),E.global)O?d[p]=h:u(p,h);else{try{E.unsafe?d[p]&&(O=!0):delete d[p]}catch{}O?d[p]=h:i.f(d,p,{value:h,enumerable:!1,configurable:!E.nonConfigurable,writable:!E.nonWritable})}return d}},3072:(l,P,t)=>{var s=t(7854),i=Object.defineProperty;l.exports=function(a,u){try{i(s,a,{value:u,configurable:!0,writable:!0})}catch{s[a]=u}return u}},9781:(l,P,t)=>{var s=t(7293);l.exports=!s(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},2371:l=>{var P="object"==typeof document&&document.all;l.exports={all:P,IS_HTMLDDA:typeof P>"u"&&void 0!==P}},317:(l,P,t)=>{var s=t(7854),i=t(111),a=s.document,u=i(a)&&i(a.createElement);l.exports=function(d){return u?a.createElement(d):{}}},8324:l=>{l.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(l,P,t)=>{var i=t(317)("span").classList,a=i&&i.constructor&&i.constructor.prototype;l.exports=a===Object.prototype?void 0:a},7871:(l,P,t)=>{var s=t(3823),i=t(5268);l.exports=!s&&!i&&"object"==typeof window&&"object"==typeof document},3823:l=>{l.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},1528:(l,P,t)=>{var s=t(8113);l.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},6833:(l,P,t)=>{var s=t(8113);l.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},5268:(l,P,t)=>{var s=t(4326);l.exports=typeof process<"u"&&"process"==s(process)},1036:(l,P,t)=>{var s=t(8113);l.exports=/web0s(?!.*chrome)/i.test(s)},8113:l=>{l.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7392:(l,P,t)=>{var h,E,s=t(7854),i=t(8113),a=s.process,u=s.Deno,d=a&&a.versions||u&&u.version,p=d&&d.v8;p&&(E=(h=p.split("."))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!E&&i&&(!(h=i.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=i.match(/Chrome\/(\d+)/))&&(E=+h[1]),l.exports=E},748:l=>{l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(l,P,t)=>{var s=t(7854),i=t(1236).f,a=t(8880),u=t(8052),d=t(3072),p=t(9920),h=t(4705);l.exports=function(E,O){var x,b,C,D,L,m=E.target,S=E.global,T=E.stat;if(x=S?s:T?s[m]||d(m,{}):(s[m]||{}).prototype)for(b in O){if(D=O[b],C=E.dontCallGetSet?(L=i(x,b))&&L.value:x[b],!h(S?b:m+(T?".":"#")+b,E.forced)&&void 0!==C){if(typeof D==typeof C)continue;p(D,C)}(E.sham||C&&C.sham)&&a(D,"sham",!0),u(x,b,D,E)}}},7293:l=>{l.exports=function(P){try{return!!P()}catch{return!0}}},7007:(l,P,t)=>{t(4916);var s=t(1470),i=t(8052),a=t(2261),u=t(7293),d=t(5112),p=t(8880),h=d("species"),E=RegExp.prototype;l.exports=function(O,m,S,T){var I=d(O),x=!u(function(){var L={};return L[I]=function(){return 7},7!=""[O](L)}),b=x&&!u(function(){var L=!1,A=/a/;return"split"===O&&((A={}).constructor={},A.constructor[h]=function(){return A},A.flags="",A[I]=/./[I]),A.exec=function(){return L=!0,null},A[I](""),!L});if(!x||!b||S){var C=s(/./[I]),D=m(I,""[O],function(L,A,M,F,$){var W=s(L),B=A.exec;return B===a||B===E.exec?x&&!$?{done:!0,value:C(A,M,F)}:{done:!0,value:W(M,A,F)}:{done:!1}});i(String.prototype,O,D[0]),i(E,I,D[1])}T&&p(E[I],"sham",!0)}},2104:(l,P,t)=>{var s=t(4374),i=Function.prototype,a=i.apply,u=i.call;l.exports="object"==typeof Reflect&&Reflect.apply||(s?u.bind(a):function(){return u.apply(a,arguments)})},9974:(l,P,t)=>{var s=t(1470),i=t(9662),a=t(4374),u=s(s.bind);l.exports=function(d,p){return i(d),void 0===p?d:a?u(d,p):function(){return d.apply(p,arguments)}}},4374:(l,P,t)=>{var s=t(7293);l.exports=!s(function(){var i=function(){}.bind();return"function"!=typeof i||i.hasOwnProperty("prototype")})},6916:(l,P,t)=>{var s=t(4374),i=Function.prototype.call;l.exports=s?i.bind(i):function(){return i.apply(i,arguments)}},6530:(l,P,t)=>{var s=t(9781),i=t(2597),a=Function.prototype,u=s&&Object.getOwnPropertyDescriptor,d=i(a,"name"),p=d&&"something"===function(){}.name,h=d&&(!s||s&&u(a,"name").configurable);l.exports={EXISTS:d,PROPER:p,CONFIGURABLE:h}},1470:(l,P,t)=>{var s=t(4326),i=t(1702);l.exports=function(a){if("Function"===s(a))return i(a)}},1702:(l,P,t)=>{var s=t(4374),i=Function.prototype,a=i.call,u=s&&i.bind.bind(a,a);l.exports=s?u:function(d){return function(){return a.apply(d,arguments)}}},5005:(l,P,t)=>{var s=t(7854),i=t(614),a=function(u){return i(u)?u:void 0};l.exports=function(u,d){return arguments.length<2?a(s[u]):s[u]&&s[u][d]}},1246:(l,P,t)=>{var s=t(648),i=t(8173),a=t(8554),u=t(7497),p=t(5112)("iterator");l.exports=function(h){if(!a(h))return i(h,p)||i(h,"@@iterator")||u[s(h)]}},4121:(l,P,t)=>{var s=t(6916),i=t(9662),a=t(9670),u=t(6330),d=t(1246),p=TypeError;l.exports=function(h,E){var O=arguments.length<2?d(h):E;if(i(O))return a(s(O,h));throw p(u(h)+" is not iterable")}},8173:(l,P,t)=>{var s=t(9662),i=t(8554);l.exports=function(a,u){var d=a[u];return i(d)?void 0:s(d)}},647:(l,P,t)=>{var s=t(1702),i=t(7908),a=Math.floor,u=s("".charAt),d=s("".replace),p=s("".slice),h=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;l.exports=function(O,m,S,T,I,x){var b=S+O.length,C=T.length,D=E;return void 0!==I&&(I=i(I),D=h),d(x,D,function(L,A){var M;switch(u(A,0)){case"$":return"$";case"&":return O;case"`":return p(m,0,S);case"'":return p(m,b);case"<":M=I[p(A,1,-1)];break;default:var F=+A;if(0===F)return L;if(F>C){var $=a(F/10);return 0===$?L:$<=C?void 0===T[$-1]?u(A,1):T[$-1]+u(A,1):L}M=T[F-1]}return void 0===M?"":M})}},7854:l=>{var P=function(t){return t&&t.Math==Math&&t};l.exports=P("object"==typeof globalThis&&globalThis)||P("object"==typeof window&&window)||P("object"==typeof self&&self)||P("object"==typeof global&&global)||function(){return this}()||Function("return this")()},2597:(l,P,t)=>{var s=t(1702),i=t(7908),a=s({}.hasOwnProperty);l.exports=Object.hasOwn||function(d,p){return a(i(d),p)}},3501:l=>{l.exports={}},842:l=>{l.exports=function(P,t){try{1==arguments.length?console.error(P):console.error(P,t)}catch{}}},490:(l,P,t)=>{var s=t(5005);l.exports=s("document","documentElement")},4664:(l,P,t)=>{var s=t(9781),i=t(7293),a=t(317);l.exports=!s&&!i(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},8361:(l,P,t)=>{var s=t(1702),i=t(7293),a=t(4326),u=Object,d=s("".split);l.exports=i(function(){return!u("z").propertyIsEnumerable(0)})?function(p){return"String"==a(p)?d(p,""):u(p)}:u},2788:(l,P,t)=>{var s=t(1702),i=t(614),a=t(5465),u=s(Function.toString);i(a.inspectSource)||(a.inspectSource=function(d){return u(d)}),l.exports=a.inspectSource},9909:(l,P,t)=>{var T,I,x,s=t(4811),i=t(7854),a=t(111),u=t(8880),d=t(2597),p=t(5465),h=t(6200),E=t(3501),O="Object already initialized",m=i.TypeError;if(s||p.state){var D=p.state||(p.state=new(0,i.WeakMap));D.get=D.get,D.has=D.has,D.set=D.set,T=function(A,M){if(D.has(A))throw m(O);return M.facade=A,D.set(A,M),M},I=function(A){return D.get(A)||{}},x=function(A){return D.has(A)}}else{var L=h("state");E[L]=!0,T=function(A,M){if(d(A,L))throw m(O);return M.facade=A,u(A,L,M),M},I=function(A){return d(A,L)?A[L]:{}},x=function(A){return d(A,L)}}l.exports={set:T,get:I,has:x,enforce:function(A){return x(A)?I(A):T(A,{})},getterFor:function(A){return function(M){var F;if(!a(M)||(F=I(M)).type!==A)throw m("Incompatible receiver, "+A+" required");return F}}}},7659:(l,P,t)=>{var s=t(5112),i=t(7497),a=s("iterator"),u=Array.prototype;l.exports=function(d){return void 0!==d&&(i.Array===d||u[a]===d)}},614:(l,P,t)=>{var s=t(2371),i=s.all;l.exports=s.IS_HTMLDDA?function(a){return"function"==typeof a||a===i}:function(a){return"function"==typeof a}},4411:(l,P,t)=>{var s=t(1702),i=t(7293),a=t(614),u=t(648),d=t(5005),p=t(2788),h=function(){},E=[],O=d("Reflect","construct"),m=/^\s*(?:class|function)\b/,S=s(m.exec),T=!m.exec(h),I=function(C){if(!a(C))return!1;try{return O(h,E,C),!0}catch{return!1}},x=function(C){if(!a(C))return!1;switch(u(C)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return T||!!S(m,p(C))}catch{return!0}};x.sham=!0,l.exports=!O||i(function(){var b;return I(I.call)||!I(Object)||!I(function(){b=!0})||b})?x:I},4705:(l,P,t)=>{var s=t(7293),i=t(614),a=/#|\.prototype\./,u=function(O,m){var S=p[d(O)];return S==E||S!=h&&(i(m)?s(m):!!m)},d=u.normalize=function(O){return String(O).replace(a,".").toLowerCase()},p=u.data={},h=u.NATIVE="N",E=u.POLYFILL="P";l.exports=u},8554:l=>{l.exports=function(P){return null==P}},111:(l,P,t)=>{var s=t(614),i=t(2371),a=i.all;l.exports=i.IS_HTMLDDA?function(u){return"object"==typeof u?null!==u:s(u)||u===a}:function(u){return"object"==typeof u?null!==u:s(u)}},1913:l=>{l.exports=!1},7850:(l,P,t)=>{var s=t(111),i=t(4326),u=t(5112)("match");l.exports=function(d){var p;return s(d)&&(void 0!==(p=d[u])?!!p:"RegExp"==i(d))}},2190:(l,P,t)=>{var s=t(5005),i=t(614),a=t(7976),u=t(3307),d=Object;l.exports=u?function(p){return"symbol"==typeof p}:function(p){var h=s("Symbol");return i(h)&&a(h.prototype,d(p))}},408:(l,P,t)=>{var s=t(9974),i=t(6916),a=t(9670),u=t(6330),d=t(7659),p=t(6244),h=t(7976),E=t(4121),O=t(1246),m=t(9212),S=TypeError,T=function(x,b){this.stopped=x,this.result=b},I=T.prototype;l.exports=function(x,b,C){var W,B,ne,le,_,se,oe,L=!(!C||!C.AS_ENTRIES),A=!(!C||!C.IS_RECORD),M=!(!C||!C.IS_ITERATOR),F=!(!C||!C.INTERRUPTED),$=s(b,C&&C.that),ie=function(V){return W&&m(W,"normal",V),new T(!0,V)},U=function(V){return L?(a(V),F?$(V[0],V[1],ie):$(V[0],V[1])):F?$(V,ie):$(V)};if(A)W=x.iterator;else if(M)W=x;else{if(!(B=O(x)))throw S(u(x)+" is not iterable");if(d(B)){for(ne=0,le=p(x);le>ne;ne++)if((_=U(x[ne]))&&h(I,_))return _;return new T(!1)}W=E(x,B)}for(se=A?x.next:W.next;!(oe=i(se,W)).done;){try{_=U(oe.value)}catch(V){m(W,"throw",V)}if("object"==typeof _&&_&&h(I,_))return _}return new T(!1)}},9212:(l,P,t)=>{var s=t(6916),i=t(9670),a=t(8173);l.exports=function(u,d,p){var h,E;i(u);try{if(!(h=a(u,"return"))){if("throw"===d)throw p;return p}h=s(h,u)}catch(O){E=!0,h=O}if("throw"===d)throw p;if(E)throw h;return i(h),p}},3061:(l,P,t)=>{var s=t(3383).IteratorPrototype,i=t(30),a=t(9114),u=t(8003),d=t(7497),p=function(){return this};l.exports=function(h,E,O,m){var S=E+" Iterator";return h.prototype=i(s,{next:a(+!m,O)}),u(h,S,!1,!0),d[S]=p,h}},1656:(l,P,t)=>{var s=t(2109),i=t(6916),a=t(1913),u=t(6530),d=t(614),p=t(3061),h=t(9518),E=t(7674),O=t(8003),m=t(8880),S=t(8052),T=t(5112),I=t(7497),x=t(3383),b=u.PROPER,C=u.CONFIGURABLE,D=x.IteratorPrototype,L=x.BUGGY_SAFARI_ITERATORS,A=T("iterator"),M="keys",F="values",$="entries",W=function(){return this};l.exports=function(B,ne,le,_,se,oe,ie){p(le,ne,_);var ve,Se,ce,U=function(Ee){if(Ee===se&&j)return j;if(!L&&Ee in J)return J[Ee];switch(Ee){case M:case F:case $:return function(){return new le(this,Ee)}}return function(){return new le(this)}},V=ne+" Iterator",ue=!1,J=B.prototype,ee=J[A]||J["@@iterator"]||se&&J[se],j=!L&&ee||U(se),Pe="Array"==ne&&J.entries||ee;if(Pe&&(ve=h(Pe.call(new B)))!==Object.prototype&&ve.next&&(!a&&h(ve)!==D&&(E?E(ve,D):d(ve[A])||S(ve,A,W)),O(ve,V,!0,!0),a&&(I[V]=W)),b&&se==F&&ee&&ee.name!==F&&(!a&&C?m(J,"name",F):(ue=!0,j=function(){return i(ee,this)})),se)if(Se={values:U(F),keys:oe?j:U(M),entries:U($)},ie)for(ce in Se)(L||ue||!(ce in J))&&S(J,ce,Se[ce]);else s({target:ne,proto:!0,forced:L||ue},Se);return(!a||ie)&&J[A]!==j&&S(J,A,j,{name:se}),I[ne]=j,Se}},3383:(l,P,t)=>{var S,T,I,s=t(7293),i=t(614),a=t(111),u=t(30),d=t(9518),p=t(8052),h=t(5112),E=t(1913),O=h("iterator"),m=!1;[].keys&&("next"in(I=[].keys())?(T=d(d(I)))!==Object.prototype&&(S=T):m=!0),!a(S)||s(function(){var b={};return S[O].call(b)!==b})?S={}:E&&(S=u(S)),i(S[O])||p(S,O,function(){return this}),l.exports={IteratorPrototype:S,BUGGY_SAFARI_ITERATORS:m}},7497:l=>{l.exports={}},6244:(l,P,t)=>{var s=t(7466);l.exports=function(i){return s(i.length)}},6339:(l,P,t)=>{var s=t(1702),i=t(7293),a=t(614),u=t(2597),d=t(9781),p=t(6530).CONFIGURABLE,h=t(2788),E=t(9909),O=E.enforce,m=E.get,S=String,T=Object.defineProperty,I=s("".slice),x=s("".replace),b=s([].join),C=d&&!i(function(){return 8!==T(function(){},"length",{value:8}).length}),D=String(String).split("String"),L=l.exports=function(A,M,F){"Symbol("===I(S(M),0,7)&&(M="["+x(S(M),/^Symbol\(([^)]*)\)/,"$1")+"]"),F&&F.getter&&(M="get "+M),F&&F.setter&&(M="set "+M),(!u(A,"name")||p&&A.name!==M)&&(d?T(A,"name",{value:M,configurable:!0}):A.name=M),C&&F&&u(F,"arity")&&A.length!==F.arity&&T(A,"length",{value:F.arity});try{F&&u(F,"constructor")&&F.constructor?d&&T(A,"prototype",{writable:!1}):A.prototype&&(A.prototype=void 0)}catch{}var $=O(A);return u($,"source")||($.source=b(D,"string"==typeof M?M:"")),A};Function.prototype.toString=L(function(){return a(this)&&m(this).source||h(this)},"toString")},4758:l=>{var P=Math.ceil,t=Math.floor;l.exports=Math.trunc||function(i){var a=+i;return(a>0?t:P)(a)}},5948:(l,P,t)=>{var C,D,L,A,M,s=t(7854),i=t(9974),a=t(1236).f,u=t(261).set,d=t(3354),p=t(6833),h=t(1528),E=t(1036),O=t(5268),m=s.MutationObserver||s.WebKitMutationObserver,S=s.document,T=s.process,I=s.Promise,x=a(s,"queueMicrotask"),b=x&&x.value;if(!b){var F=new d,$=function(){var W,B;for(O&&(W=T.domain)&&W.exit();B=F.get();)try{B()}catch(ne){throw F.head&&C(),ne}W&&W.enter()};p||O||E||!m||!S?!h&&I&&I.resolve?((A=I.resolve(void 0)).constructor=I,M=i(A.then,A),C=function(){M($)}):O?C=function(){T.nextTick($)}:(u=i(u,s),C=function(){u($)}):(D=!0,L=S.createTextNode(""),new m($).observe(L,{characterData:!0}),C=function(){L.data=D=!D}),b=function(W){F.head||C(),F.add(W)}}l.exports=b},8523:(l,P,t)=>{var s=t(9662),i=TypeError,a=function(u){var d,p;this.promise=new u(function(h,E){if(void 0!==d||void 0!==p)throw i("Bad Promise constructor");d=h,p=E}),this.resolve=s(d),this.reject=s(p)};l.exports.f=function(u){return new a(u)}},3929:(l,P,t)=>{var s=t(7850),i=TypeError;l.exports=function(a){if(s(a))throw i("The method doesn't accept regular expressions");return a}},30:(l,P,t)=>{var D,s=t(9670),i=t(6048),a=t(748),u=t(3501),d=t(490),p=t(317),h=t(6200),m="prototype",S="script",T=h("IE_PROTO"),I=function(){},x=function(A){return"<"+S+">"+A+"</"+S+">"},b=function(A){A.write(x("")),A.close();var M=A.parentWindow.Object;return A=null,M},L=function(){try{D=new ActiveXObject("htmlfile")}catch{}L=typeof document<"u"?document.domain&&D?b(D):function(){var F,A=p("iframe"),M="java"+S+":";return A.style.display="none",d.appendChild(A),A.src=String(M),(F=A.contentWindow.document).open(),F.write(x("document.F=Object")),F.close(),F.F}():b(D);for(var A=a.length;A--;)delete L[m][a[A]];return L()};u[T]=!0,l.exports=Object.create||function(M,F){var $;return null!==M?(I[m]=s(M),$=new I,I[m]=null,$[T]=M):$=L(),void 0===F?$:i.f($,F)}},6048:(l,P,t)=>{var s=t(9781),i=t(3353),a=t(3070),u=t(9670),d=t(5656),p=t(1956);P.f=s&&!i?Object.defineProperties:function(E,O){u(E);for(var x,m=d(O),S=p(O),T=S.length,I=0;T>I;)a.f(E,x=S[I++],m[x]);return E}},3070:(l,P,t)=>{var s=t(9781),i=t(4664),a=t(3353),u=t(9670),d=t(4948),p=TypeError,h=Object.defineProperty,E=Object.getOwnPropertyDescriptor,O="enumerable",m="configurable",S="writable";P.f=s?a?function(I,x,b){if(u(I),x=d(x),u(b),"function"==typeof I&&"prototype"===x&&"value"in b&&S in b&&!b[S]){var C=E(I,x);C&&C[S]&&(I[x]=b.value,b={configurable:m in b?b[m]:C[m],enumerable:O in b?b[O]:C[O],writable:!1})}return h(I,x,b)}:h:function(I,x,b){if(u(I),x=d(x),u(b),i)try{return h(I,x,b)}catch{}if("get"in b||"set"in b)throw p("Accessors not supported");return"value"in b&&(I[x]=b.value),I}},1236:(l,P,t)=>{var s=t(9781),i=t(6916),a=t(5296),u=t(9114),d=t(5656),p=t(4948),h=t(2597),E=t(4664),O=Object.getOwnPropertyDescriptor;P.f=s?O:function(S,T){if(S=d(S),T=p(T),E)try{return O(S,T)}catch{}if(h(S,T))return u(!i(a.f,S,T),S[T])}},8006:(l,P,t)=>{var s=t(6324),a=t(748).concat("length","prototype");P.f=Object.getOwnPropertyNames||function(d){return s(d,a)}},5181:(l,P)=>{P.f=Object.getOwnPropertySymbols},9518:(l,P,t)=>{var s=t(2597),i=t(614),a=t(7908),u=t(6200),d=t(8544),p=u("IE_PROTO"),h=Object,E=h.prototype;l.exports=d?h.getPrototypeOf:function(O){var m=a(O);if(s(m,p))return m[p];var S=m.constructor;return i(S)&&m instanceof S?S.prototype:m instanceof h?E:null}},7976:(l,P,t)=>{var s=t(1702);l.exports=s({}.isPrototypeOf)},6324:(l,P,t)=>{var s=t(1702),i=t(2597),a=t(5656),u=t(1318).indexOf,d=t(3501),p=s([].push);l.exports=function(h,E){var T,O=a(h),m=0,S=[];for(T in O)!i(d,T)&&i(O,T)&&p(S,T);for(;E.length>m;)i(O,T=E[m++])&&(~u(S,T)||p(S,T));return S}},1956:(l,P,t)=>{var s=t(6324),i=t(748);l.exports=Object.keys||function(u){return s(u,i)}},5296:(l,P)=>{var t={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,i=s&&!t.call({1:2},1);P.f=i?function(u){var d=s(this,u);return!!d&&d.enumerable}:t},7674:(l,P,t)=>{var s=t(1702),i=t(9670),a=t(6077);l.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p,u=!1,d={};try{(p=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(d,[]),u=d instanceof Array}catch{}return function(E,O){return i(E),a(O),u?p(E,O):E.__proto__=O,E}}():void 0)},2140:(l,P,t)=>{var s=t(6916),i=t(614),a=t(111),u=TypeError;l.exports=function(d,p){var h,E;if("string"===p&&i(h=d.toString)&&!a(E=s(h,d))||i(h=d.valueOf)&&!a(E=s(h,d))||"string"!==p&&i(h=d.toString)&&!a(E=s(h,d)))return E;throw u("Can't convert object to primitive value")}},3887:(l,P,t)=>{var s=t(5005),i=t(1702),a=t(8006),u=t(5181),d=t(9670),p=i([].concat);l.exports=s("Reflect","ownKeys")||function(E){var O=a.f(d(E)),m=u.f;return m?p(O,m(E)):O}},2534:l=>{l.exports=function(P){try{return{error:!1,value:P()}}catch(t){return{error:!0,value:t}}}},3702:(l,P,t)=>{var s=t(7854),i=t(2492),a=t(614),u=t(4705),d=t(2788),p=t(5112),h=t(7871),E=t(3823),O=t(1913),m=t(7392),S=i&&i.prototype,T=p("species"),I=!1,x=a(s.PromiseRejectionEvent),b=u("Promise",function(){var C=d(i),D=C!==String(i);if(!D&&66===m||O&&(!S.catch||!S.finally))return!0;if(!m||m<51||!/native code/.test(C)){var L=new i(function(F){F(1)}),A=function(F){F(function(){},function(){})};if((L.constructor={})[T]=A,!(I=L.then(function(){})instanceof A))return!0}return!D&&(h||E)&&!x});l.exports={CONSTRUCTOR:b,REJECTION_EVENT:x,SUBCLASSING:I}},2492:(l,P,t)=>{var s=t(7854);l.exports=s.Promise},9478:(l,P,t)=>{var s=t(9670),i=t(111),a=t(8523);l.exports=function(u,d){if(s(u),i(d)&&d.constructor===u)return d;var p=a.f(u);return(0,p.resolve)(d),p.promise}},612:(l,P,t)=>{var s=t(2492),i=t(7072),a=t(3702).CONSTRUCTOR;l.exports=a||!i(function(u){s.all(u).then(void 0,function(){})})},3354:l=>{var P=function(){this.head=null,this.tail=null};P.prototype={add:function(t){var s={item:t,next:null},i=this.tail;i?i.next=s:this.head=s,this.tail=s},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},l.exports=P},7651:(l,P,t)=>{var s=t(6916),i=t(9670),a=t(614),u=t(4326),d=t(2261),p=TypeError;l.exports=function(h,E){var O=h.exec;if(a(O)){var m=s(O,h,E);return null!==m&&i(m),m}if("RegExp"===u(h))return s(d,h,E);throw p("RegExp#exec called on incompatible receiver")}},2261:(l,P,t)=>{var $,W,s=t(6916),i=t(1702),a=t(1340),u=t(7066),d=t(2999),p=t(2309),h=t(30),E=t(9909).get,O=t(9441),m=t(7168),S=p("native-string-replace",String.prototype.replace),T=RegExp.prototype.exec,I=T,x=i("".charAt),b=i("".indexOf),C=i("".replace),D=i("".slice),L=(W=/b*/g,s(T,$=/a/,"a"),s(T,W,"a"),0!==$.lastIndex||0!==W.lastIndex),A=d.BROKEN_CARET,M=void 0!==/()??/.exec("")[1];(L||M||A||O||m)&&(I=function(W){var se,oe,ie,U,V,ue,J,B=this,ne=E(B),le=a(W),_=ne.raw;if(_)return _.lastIndex=B.lastIndex,se=s(I,_,le),B.lastIndex=_.lastIndex,se;var ee=ne.groups,j=A&&B.sticky,Pe=s(u,B),ve=B.source,Se=0,ce=le;if(j&&(Pe=C(Pe,"y",""),-1===b(Pe,"g")&&(Pe+="g"),ce=D(le,B.lastIndex),B.lastIndex>0&&(!B.multiline||B.multiline&&"\n"!==x(le,B.lastIndex-1))&&(ve="(?: "+ve+")",ce=" "+ce,Se++),oe=new RegExp("^(?:"+ve+")",Pe)),M&&(oe=new RegExp("^"+ve+"$(?!\\s)",Pe)),L&&(ie=B.lastIndex),U=s(T,j?oe:B,ce),j?U?(U.input=D(U.input,Se),U[0]=D(U[0],Se),U.index=B.lastIndex,B.lastIndex+=U[0].length):B.lastIndex=0:L&&U&&(B.lastIndex=B.global?U.index+U[0].length:ie),M&&U&&U.length>1&&s(S,U[0],oe,function(){for(V=1;V<arguments.length-2;V++)void 0===arguments[V]&&(U[V]=void 0)}),U&&ee)for(U.groups=ue=h(null),V=0;V<ee.length;V++)ue[(J=ee[V])[0]]=U[J[1]];return U}),l.exports=I},7066:(l,P,t)=>{var s=t(9670);l.exports=function(){var i=s(this),a="";return i.hasIndices&&(a+="d"),i.global&&(a+="g"),i.ignoreCase&&(a+="i"),i.multiline&&(a+="m"),i.dotAll&&(a+="s"),i.unicode&&(a+="u"),i.unicodeSets&&(a+="v"),i.sticky&&(a+="y"),a}},2999:(l,P,t)=>{var s=t(7293),a=t(7854).RegExp,u=s(function(){var h=a("a","y");return h.lastIndex=2,null!=h.exec("abcd")}),d=u||s(function(){return!a("a","y").sticky}),p=u||s(function(){var h=a("^r","gy");return h.lastIndex=2,null!=h.exec("str")});l.exports={BROKEN_CARET:p,MISSED_STICKY:d,UNSUPPORTED_Y:u}},9441:(l,P,t)=>{var s=t(7293),a=t(7854).RegExp;l.exports=s(function(){var u=a(".","s");return!(u.dotAll&&u.exec("\n")&&"s"===u.flags)})},7168:(l,P,t)=>{var s=t(7293),a=t(7854).RegExp;l.exports=s(function(){var u=a("(?<a>b)","g");return"b"!==u.exec("b").groups.a||"bc"!=="b".replace(u,"$<a>c")})},4488:(l,P,t)=>{var s=t(8554),i=TypeError;l.exports=function(a){if(s(a))throw i("Can't call method on "+a);return a}},6340:(l,P,t)=>{var s=t(5005),i=t(3070),a=t(5112),u=t(9781),d=a("species");l.exports=function(p){var h=s(p);u&&h&&!h[d]&&(0,i.f)(h,d,{configurable:!0,get:function(){return this}})}},8003:(l,P,t)=>{var s=t(3070).f,i=t(2597),u=t(5112)("toStringTag");l.exports=function(d,p,h){d&&!h&&(d=d.prototype),d&&!i(d,u)&&s(d,u,{configurable:!0,value:p})}},6200:(l,P,t)=>{var s=t(2309),i=t(9711),a=s("keys");l.exports=function(u){return a[u]||(a[u]=i(u))}},5465:(l,P,t)=>{var s=t(7854),i=t(3072),a="__core-js_shared__",u=s[a]||i(a,{});l.exports=u},2309:(l,P,t)=>{var s=t(1913),i=t(5465);(l.exports=function(a,u){return i[a]||(i[a]=void 0!==u?u:{})})("versions",[]).push({version:"3.27.2",mode:s?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(l,P,t)=>{var s=t(9670),i=t(9483),a=t(8554),d=t(5112)("species");l.exports=function(p,h){var O,E=s(p).constructor;return void 0===E||a(O=s(E)[d])?h:i(O)}},8710:(l,P,t)=>{var s=t(1702),i=t(9303),a=t(1340),u=t(4488),d=s("".charAt),p=s("".charCodeAt),h=s("".slice),E=function(O){return function(m,S){var b,C,T=a(u(m)),I=i(S),x=T.length;return I<0||I>=x?O?"":void 0:(b=p(T,I))<55296||b>56319||I+1===x||(C=p(T,I+1))<56320||C>57343?O?d(T,I):b:O?h(T,I,I+2):C-56320+(b-55296<<10)+65536}};l.exports={codeAt:E(!1),charAt:E(!0)}},6293:(l,P,t)=>{var s=t(7392),i=t(7293);l.exports=!!Object.getOwnPropertySymbols&&!i(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&s&&s<41})},261:(l,P,t)=>{var W,B,ne,le,s=t(7854),i=t(2104),a=t(9974),u=t(614),d=t(2597),p=t(7293),h=t(490),E=t(206),O=t(317),m=t(8053),S=t(6833),T=t(5268),I=s.setImmediate,x=s.clearImmediate,b=s.process,C=s.Dispatch,D=s.Function,L=s.MessageChannel,A=s.String,M=0,F={},$="onreadystatechange";p(function(){W=s.location});var _=function(U){if(d(F,U)){var V=F[U];delete F[U],V()}},se=function(U){return function(){_(U)}},oe=function(U){_(U.data)},ie=function(U){s.postMessage(A(U),W.protocol+"//"+W.host)};(!I||!x)&&(I=function(V){m(arguments.length,1);var ue=u(V)?V:D(V),J=E(arguments,1);return F[++M]=function(){i(ue,void 0,J)},B(M),M},x=function(V){delete F[V]},T?B=function(U){b.nextTick(se(U))}:C&&C.now?B=function(U){C.now(se(U))}:L&&!S?(le=(ne=new L).port2,ne.port1.onmessage=oe,B=a(le.postMessage,le)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&W&&"file:"!==W.protocol&&!p(ie)?(B=ie,s.addEventListener("message",oe,!1)):B=$ in O("script")?function(U){h.appendChild(O("script"))[$]=function(){h.removeChild(this),_(U)}}:function(U){setTimeout(se(U),0)}),l.exports={set:I,clear:x}},1400:(l,P,t)=>{var s=t(9303),i=Math.max,a=Math.min;l.exports=function(u,d){var p=s(u);return p<0?i(p+d,0):a(p,d)}},5656:(l,P,t)=>{var s=t(8361),i=t(4488);l.exports=function(a){return s(i(a))}},9303:(l,P,t)=>{var s=t(4758);l.exports=function(i){var a=+i;return a!=a||0===a?0:s(a)}},7466:(l,P,t)=>{var s=t(9303),i=Math.min;l.exports=function(a){return a>0?i(s(a),9007199254740991):0}},7908:(l,P,t)=>{var s=t(4488),i=Object;l.exports=function(a){return i(s(a))}},7593:(l,P,t)=>{var s=t(6916),i=t(111),a=t(2190),u=t(8173),d=t(2140),p=t(5112),h=TypeError,E=p("toPrimitive");l.exports=function(O,m){if(!i(O)||a(O))return O;var T,S=u(O,E);if(S){if(void 0===m&&(m="default"),T=s(S,O,m),!i(T)||a(T))return T;throw h("Can't convert object to primitive value")}return void 0===m&&(m="number"),d(O,m)}},4948:(l,P,t)=>{var s=t(7593),i=t(2190);l.exports=function(a){var u=s(a,"string");return i(u)?u:u+""}},1694:(l,P,t)=>{var a={};a[t(5112)("toStringTag")]="z",l.exports="[object z]"===String(a)},1340:(l,P,t)=>{var s=t(648),i=String;l.exports=function(a){if("Symbol"===s(a))throw TypeError("Cannot convert a Symbol value to a string");return i(a)}},6330:l=>{var P=String;l.exports=function(t){try{return P(t)}catch{return"Object"}}},9711:(l,P,t)=>{var s=t(1702),i=0,a=Math.random(),u=s(1..toString);l.exports=function(d){return"Symbol("+(void 0===d?"":d)+")_"+u(++i+a,36)}},3307:(l,P,t)=>{var s=t(6293);l.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(l,P,t)=>{var s=t(9781),i=t(7293);l.exports=s&&i(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},8053:l=>{var P=TypeError;l.exports=function(t,s){if(t<s)throw P("Not enough arguments");return t}},4811:(l,P,t)=>{var s=t(7854),i=t(614),a=s.WeakMap;l.exports=i(a)&&/native code/.test(String(a))},5112:(l,P,t)=>{var s=t(7854),i=t(2309),a=t(2597),u=t(9711),d=t(6293),p=t(3307),h=s.Symbol,E=i("wks"),O=p?h.for||h:h&&h.withoutSetter||u;l.exports=function(m){return a(E,m)||(E[m]=d&&a(h,m)?h[m]:O("Symbol."+m)),E[m]}},6699:(l,P,t)=>{var s=t(2109),i=t(1318).includes,a=t(7293),u=t(1223);s({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(h){return i(this,h,arguments.length>1?arguments[1]:void 0)}}),u("includes")},6992:(l,P,t)=>{var s=t(5656),i=t(1223),a=t(7497),u=t(9909),d=t(3070).f,p=t(1656),h=t(6178),E=t(1913),O=t(9781),m="Array Iterator",S=u.set,T=u.getterFor(m);l.exports=p(Array,"Array",function(x,b){S(this,{type:m,target:s(x),index:0,kind:b})},function(){var x=T(this),b=x.target,C=x.kind,D=x.index++;return!b||D>=b.length?(x.target=void 0,h(void 0,!0)):h("keys"==C?D:"values"==C?b[D]:[D,b[D]],!1)},"values");var I=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!E&&O&&"values"!==I.name)try{d(I,"name",{value:"values"})}catch{}},821:(l,P,t)=>{var s=t(2109),i=t(6916),a=t(9662),u=t(8523),d=t(2534),p=t(408);s({target:"Promise",stat:!0,forced:t(612)},{all:function(O){var m=this,S=u.f(m),T=S.resolve,I=S.reject,x=d(function(){var b=a(m.resolve),C=[],D=0,L=1;p(O,function(A){var M=D++,F=!1;L++,i(b,m,A).then(function($){F||(F=!0,C[M]=$,--L||T(C))},I)}),--L||T(C)});return x.error&&I(x.value),S.promise}})},4164:(l,P,t)=>{var s=t(2109),i=t(1913),a=t(3702).CONSTRUCTOR,u=t(2492),d=t(5005),p=t(614),h=t(8052),E=u&&u.prototype;if(s({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(m){return this.then(void 0,m)}}),!i&&p(u)){var O=d("Promise").prototype.catch;E.catch!==O&&h(E,"catch",O,{unsafe:!0})}},3401:(l,P,t)=>{var xe,De,y,s=t(2109),i=t(1913),a=t(5268),u=t(7854),d=t(6916),p=t(8052),h=t(7674),E=t(8003),O=t(6340),m=t(9662),S=t(614),T=t(111),I=t(5787),x=t(6707),b=t(261).set,C=t(5948),D=t(842),L=t(2534),A=t(3354),M=t(9909),F=t(2492),$=t(3702),W=t(8523),B="Promise",ne=$.CONSTRUCTOR,le=$.REJECTION_EVENT,_=$.SUBCLASSING,se=M.getterFor(B),oe=M.set,ie=F&&F.prototype,U=F,V=ie,ue=u.TypeError,J=u.document,ee=u.process,j=W.f,Pe=j,ve=!!(J&&J.createEvent&&u.dispatchEvent),Se="unhandledrejection",be=function(w){var z;return!(!T(w)||!S(z=w.then))&&z},te=function(w,z){var K,Ve,me,Q=z.value,X=1==z.state,q=X?w.ok:w.fail,we=w.resolve,$e=w.reject,he=w.domain;try{q?(X||(2===z.rejection&&je(z),z.rejection=1),!0===q?K=Q:(he&&he.enter(),K=q(Q),he&&(he.exit(),me=!0)),K===w.promise?$e(ue("Promise-chain cycle")):(Ve=be(K))?d(Ve,K,we,$e):we(K)):$e(Q)}catch(We){he&&!me&&he.exit(),$e(We)}},Fe=function(w,z){w.notified||(w.notified=!0,C(function(){for(var X,Q=w.reactions;X=Q.get();)te(X,w);w.notified=!1,z&&!w.rejection&&Xe(w)}))},Me=function(w,z,Q){var X,q;ve?((X=J.createEvent("Event")).promise=z,X.reason=Q,X.initEvent(w,!1,!0),u.dispatchEvent(X)):X={promise:z,reason:Q},!le&&(q=u["on"+w])?q(X):w===Se&&D("Unhandled promise rejection",Q)},Xe=function(w){d(b,u,function(){var q,z=w.facade,Q=w.value;if(He(w)&&(q=L(function(){a?ee.emit("unhandledRejection",Q,z):Me(Se,z,Q)}),w.rejection=a||He(w)?2:1,q.error))throw q.value})},He=function(w){return 1!==w.rejection&&!w.parent},je=function(w){d(b,u,function(){var z=w.facade;a?ee.emit("rejectionHandled",z):Me("rejectionhandled",z,w.value)})},Oe=function(w,z,Q){return function(X){w(z,X,Q)}},Te=function(w,z,Q){w.done||(w.done=!0,Q&&(w=Q),w.value=z,w.state=2,Fe(w,!0))},Le=function(w,z,Q){if(!w.done){w.done=!0,Q&&(w=Q);try{if(w.facade===z)throw ue("Promise can't be resolved itself");var X=be(z);X?C(function(){var q={done:!1};try{d(X,z,Oe(Le,q,w),Oe(Te,q,w))}catch(we){Te(q,we,w)}}):(w.value=z,w.state=1,Fe(w,!1))}catch(q){Te({done:!1},q,w)}}};if(ne&&(U=function(z){I(this,V),m(z),d(xe,this);var Q=se(this);try{z(Oe(Le,Q),Oe(Te,Q))}catch(X){Te(Q,X)}},(xe=function(z){oe(this,{type:B,done:!1,notified:!1,parent:!1,reactions:new A,rejection:!1,state:0,value:void 0})}).prototype=p(V=U.prototype,"then",function(z,Q){var X=se(this),q=j(x(this,U));return X.parent=!0,q.ok=!S(z)||z,q.fail=S(Q)&&Q,q.domain=a?ee.domain:void 0,0==X.state?X.reactions.add(q):C(function(){te(q,X)}),q.promise}),De=function(){var w=new xe,z=se(w);this.promise=w,this.resolve=Oe(Le,z),this.reject=Oe(Te,z)},W.f=j=function(w){return w===U||void 0===w?new De(w):Pe(w)},!i&&S(F)&&ie!==Object.prototype)){y=ie.then,_||p(ie,"then",function(z,Q){var X=this;return new U(function(q,we){d(y,X,q,we)}).then(z,Q)},{unsafe:!0});try{delete ie.constructor}catch{}h&&h(ie,V)}s({global:!0,constructor:!0,wrap:!0,forced:ne},{Promise:U}),E(U,B,!1,!0),O(B)},8674:(l,P,t)=>{t(3401),t(821),t(4164),t(6027),t(683),t(6294)},6027:(l,P,t)=>{var s=t(2109),i=t(6916),a=t(9662),u=t(8523),d=t(2534),p=t(408);s({target:"Promise",stat:!0,forced:t(612)},{race:function(O){var m=this,S=u.f(m),T=S.reject,I=d(function(){var x=a(m.resolve);p(O,function(b){i(x,m,b).then(S.resolve,T)})});return I.error&&T(I.value),S.promise}})},683:(l,P,t)=>{var s=t(2109),i=t(6916),a=t(8523);s({target:"Promise",stat:!0,forced:t(3702).CONSTRUCTOR},{reject:function(p){var h=a.f(this);return i(h.reject,void 0,p),h.promise}})},6294:(l,P,t)=>{var s=t(2109),i=t(5005),a=t(1913),u=t(2492),d=t(3702).CONSTRUCTOR,p=t(9478),h=i("Promise"),E=a&&!d;s({target:"Promise",stat:!0,forced:a||d},{resolve:function(m){return p(E&&this===h?u:this,m)}})},4916:(l,P,t)=>{var s=t(2109),i=t(2261);s({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},7852:(l,P,t)=>{var b,s=t(2109),i=t(1470),a=t(1236).f,u=t(7466),d=t(1340),p=t(3929),h=t(4488),E=t(4964),O=t(1913),m=i("".endsWith),S=i("".slice),T=Math.min,I=E("endsWith");s({target:"String",proto:!0,forced:!(!O&&!I&&(b=a(String.prototype,"endsWith"),b&&!b.writable)||I)},{endsWith:function(C){var D=d(h(this));p(C);var L=arguments.length>1?arguments[1]:void 0,A=D.length,M=void 0===L?A:T(u(L),A),F=d(C);return m?m(D,F,M):S(D,M-F.length,M)===F}})},2023:(l,P,t)=>{var s=t(2109),i=t(1702),a=t(3929),u=t(4488),d=t(1340),p=t(4964),h=i("".indexOf);s({target:"String",proto:!0,forced:!p("includes")},{includes:function(O){return!!~h(d(u(this)),d(a(O)),arguments.length>1?arguments[1]:void 0)}})},5306:(l,P,t)=>{var s=t(2104),i=t(6916),a=t(1702),u=t(7007),d=t(7293),p=t(9670),h=t(614),E=t(8554),O=t(9303),m=t(7466),S=t(1340),T=t(4488),I=t(1530),x=t(8173),b=t(647),C=t(7651),L=t(5112)("replace"),A=Math.max,M=Math.min,F=a([].concat),$=a([].push),W=a("".indexOf),B=a("".slice),ne=function(oe){return void 0===oe?oe:String(oe)},le="$0"==="a".replace(/./,"$0"),_=!!/./[L]&&""===/./[L]("a","$0");u("replace",function(oe,ie,U){var V=_?"$":"$0";return[function(J,ee){var j=T(this),Pe=E(J)?void 0:x(J,L);return Pe?i(Pe,J,j,ee):i(ie,S(j),J,ee)},function(ue,J){var ee=p(this),j=S(ue);if("string"==typeof J&&-1===W(J,V)&&-1===W(J,"$<")){var Pe=U(ie,ee,j,J);if(Pe.done)return Pe.value}var ve=h(J);ve||(J=S(J));var Se=ee.global;if(Se){var ce=ee.unicode;ee.lastIndex=0}for(var Ee=[];;){var fe=C(ee,j);if(null===fe||($(Ee,fe),!Se))break;""===S(fe[0])&&(ee.lastIndex=I(j,m(ee.lastIndex),ce))}for(var Ce="",Ie=0,xe=0;xe<Ee.length;xe++){for(var De=S((fe=Ee[xe])[0]),Ne=A(M(O(fe.index),j.length),0),y=[],be=1;be<fe.length;be++)$(y,ne(fe[be]));var te=fe.groups;if(ve){var Fe=F([De],y,Ne,j);void 0!==te&&$(Fe,te);var Me=S(s(J,void 0,Fe))}else Me=b(De,j,Ne,y,te,J);Ne>=Ie&&(Ce+=B(j,Ie,Ne)+Me,Ie=Ne+De.length)}return Ce+B(j,Ie)}]},!!d(function(){var oe=/./;return oe.exec=function(){var ie=[];return ie.groups={a:"7"},ie},"7"!=="".replace(oe,"$<a>")})||!le||_)},3157:(l,P,t)=>{var b,s=t(2109),i=t(1470),a=t(1236).f,u=t(7466),d=t(1340),p=t(3929),h=t(4488),E=t(4964),O=t(1913),m=i("".startsWith),S=i("".slice),T=Math.min,I=E("startsWith");s({target:"String",proto:!0,forced:!(!O&&!I&&(b=a(String.prototype,"startsWith"),b&&!b.writable)||I)},{startsWith:function(C){var D=d(h(this));p(C);var L=u(T(arguments.length>1?arguments[1]:void 0,D.length)),A=d(C);return m?m(D,A,L):S(D,L,L+A.length)===A}})},5172:(l,P,t)=>{var s=t(2109),i=t(9781),a=t(7854),u=t(1702),d=t(2597),p=t(614),h=t(7976),E=t(1340),O=t(3070).f,m=t(9920),S=a.Symbol,T=S&&S.prototype;if(i&&p(S)&&(!("description"in T)||void 0!==S().description)){var I={},x=function(){var $=arguments.length<1||void 0===arguments[0]?void 0:E(arguments[0]),W=h(T,this)?new S($):void 0===$?S():S($);return""===$&&(I[W]=!0),W};m(x,S),x.prototype=T,T.constructor=x;var b="Symbol(test)"==String(S("test")),C=u(T.valueOf),D=u(T.toString),L=/^Symbol\((.*)\)[^)]+$/,A=u("".replace),M=u("".slice);O(T,"description",{configurable:!0,get:function(){var $=C(this);if(d(I,$))return"";var W=D($),B=b?M(W,7,-1):A(W,L,"$1");return""===B?void 0:B}}),s({global:!0,constructor:!0,forced:!0},{Symbol:x})}},3948:(l,P,t)=>{var s=t(7854),i=t(8324),a=t(8509),u=t(6992),d=t(8880),p=t(5112),h=p("iterator"),E=p("toStringTag"),O=u.values,m=function(T,I){if(T){if(T[h]!==O)try{d(T,h,O)}catch{T[h]=O}if(T[E]||d(T,E,I),i[I])for(var x in u)if(T[x]!==u[x])try{d(T,x,u[x])}catch{T[x]=u[x]}}};for(var S in i)m(s[S]&&s[S].prototype,S);m(a,"DOMTokenList")},2503:(l,P,t)=>{t.r(P),t.d(P,{AbstractActionHandler:()=>lt,AbstractDontCodeStoreProvider:()=>st,AbstractSchemaItem:()=>ce,Action:()=>Ve,ActionContextType:()=>Le,ActionType:()=>w,Change:()=>he,ChangeType:()=>K,DataTransformationInfo:()=>We,DontCodeChangeManager:()=>qe,DontCodeCore:()=>_e,DontCodeGroupOperationType:()=>Oe,DontCodeModel:()=>y,DontCodeModelManager:()=>me,DontCodeModelPointer:()=>te,DontCodePluginManager:()=>Me,DontCodePreviewManager:()=>He,DontCodeProject:()=>dt,DontCodeReportGroupShowType:()=>je,DontCodeSchema:()=>be,DontCodeSchemaEnum:()=>Ce,DontCodeSchemaEnumValue:()=>Ie,DontCodeSchemaManager:()=>Fe,DontCodeSchemaObject:()=>fe,DontCodeSchemaProperty:()=>Ne,DontCodeSchemaRef:()=>De,DontCodeSchemaRoot:()=>Ue,DontCodeSchemaValue:()=>xe,DontCodeSortDirectionType:()=>Te,DontCodeStoreAggregate:()=>$e,DontCodeStoreCriteria:()=>X,DontCodeStoreCriteriaOperator:()=>Q,DontCodeStoreGroupby:()=>we,DontCodeStoreGroupedByEntities:()=>rt,DontCodeStoreGroupedByValues:()=>nt,DontCodeStoreManager:()=>z,DontCodeStorePreparedEntities:()=>tt,DontCodeStoreSort:()=>q,DontCodeTestManager:()=>Be,Message:()=>it,MessageType:()=>Je,ModelQuerySingleResult:()=>ot,MoneyAmount:()=>at,SpecialFields:()=>et,StoreProviderHelper:()=>Ae,TestProviderInterface:()=>ft,concatIterable:()=>Ee,dtcde:()=>ze}),t(6992),t(3948),t(5172),t(4916),t(5306),t(3157),t(7852);var E=t(2256);function S(c){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(c)}function T(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}function I(c,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(c,n.key,n)}}function x(c,e,r){return e&&I(c.prototype,e),r&&I(c,r),Object.defineProperty(c,"prototype",{writable:!1}),c}function C(c){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)})(c)}function D(c,e){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n})(c,e)}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(c,e,r){return(A=L()?Reflect.construct.bind():function(o,f,v){var g=[null];g.push.apply(g,f);var N=new(Function.bind.apply(o,g));return v&&D(N,v.prototype),N}).apply(null,arguments)}function F(c){var e="function"==typeof Map?new Map:void 0;return F=function(n){if(null===n||!function M(c){return-1!==Function.toString.call(c).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return A(n,arguments,C(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),D(o,n)},F(c)}function W(c,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function $(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(c)}function se(c,e){if(c){if("string"==typeof c)return oe(c,e);var r=Object.prototype.toString.call(c).slice(8,-1);if("Object"===r&&c.constructor&&(r=c.constructor.name),"Map"===r||"Set"===r)return Array.from(c);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oe(c,e)}}function oe(c,e){(null==e||e>c.length)&&(e=c.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=c[r];return n}t(6699),t(2023);var V=Object.prototype.hasOwnProperty;function ue(c,e){return(c=c.slice()).push(e),c}function J(c,e){return(e=e.slice()).unshift(c),e}var ee=function(c){!function b(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),e&&D(c,e)}(r,c);var e=function B(c){var e=L();return function(){var o,n=C(c);if(e){var f=C(this).constructor;o=Reflect.construct(n,arguments,f)}else o=n.apply(this,arguments);return W(this,o)}}(r);function r(n){var o;return T(this,r),(o=e.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,o.value=n,o.name="NewError",o}return x(r)}(F(Error));function j(c,e,r,n,o){if(!(this instanceof j))try{return new j(c,e,r,n,o)}catch(R){if(!R.avoidNew)throw R;return R.value}"string"==typeof c&&(o=n,n=r,r=e,e=c,c=null);var f=c&&"object"===S(c);if(this.json=(c=c||{}).json||r,this.path=c.path||e,this.resultType=c.resultType||"value",this.flatten=c.flatten||!1,this.wrap=!V.call(c,"wrap")||c.wrap,this.sandbox=c.sandbox||{},this.preventEval=c.preventEval||!1,this.parent=c.parent||null,this.parentProperty=c.parentProperty||null,this.callback=c.callback||n||null,this.otherTypeCallback=c.otherTypeCallback||o||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==c.autostart){var v={path:f?c.path:e};f?"json"in c&&(v.json=c.json):v.json=r;var g=this.evaluate(v);if(!g||"object"!==S(g))throw new ee(g);return g}}j.prototype.evaluate=function(c,e,r,n){var o=this,f=this.parent,v=this.parentProperty,g=this.flatten,R=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,e=e||this.json,(c=c||this.path)&&"object"===S(c)&&!Array.isArray(c)){if(!c.path&&""!==c.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!V.call(c,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');e=c.json,g=V.call(c,"flatten")?c.flatten:g,this.currResultType=V.call(c,"resultType")?c.resultType:this.currResultType,this.currSandbox=V.call(c,"sandbox")?c.sandbox:this.currSandbox,R=V.call(c,"wrap")?c.wrap:R,this.currPreventEval=V.call(c,"preventEval")?c.preventEval:this.currPreventEval,r=V.call(c,"callback")?c.callback:r,this.currOtherTypeCallback=V.call(c,"otherTypeCallback")?c.otherTypeCallback:this.currOtherTypeCallback,f=V.call(c,"parent")?c.parent:f,v=V.call(c,"parentProperty")?c.parentProperty:v,c=c.path}if(f=f||null,v=v||null,Array.isArray(c)&&(c=j.toPathString(c)),(c||""===c)&&e){var G=j.toPathArray(c);"$"===G[0]&&G.length>1&&G.shift(),this._hasParentSelector=null;var H=this._trace(G,e,["$"],f,v,r).filter(function(Z){return Z&&!Z.isParentSelector});return H.length?R||1!==H.length||H[0].hasArrExpr?H.reduce(function(Z,ae){var ge=o._getPreferredOutput(ae);return g&&Array.isArray(ge)?Z=Z.concat(ge):Z.push(ge),Z},[]):this._getPreferredOutput(H[0]):R?[]:void 0}},j.prototype._getPreferredOutput=function(c){var e=this.currResultType;switch(e){case"all":var r=Array.isArray(c.path)?c.path:j.toPathArray(c.path);return c.pointer=j.toPointer(r),c.path="string"==typeof c.path?c.path:j.toPathString(c.path),c;case"value":case"parent":case"parentProperty":return c[e];case"path":return j.toPathString(c[e]);case"pointer":return j.toPointer(c.path);default:throw new TypeError("Unknown result type")}},j.prototype._handleCallback=function(c,e,r){if(e){var n=this._getPreferredOutput(c);c.path="string"==typeof c.path?c.path:j.toPathString(c.path),e(n,r,c)}},j.prototype._trace=function(c,e,r,n,o,f,v,g){var N,R=this;if(!c.length)return this._handleCallback(N={path:r,value:e,parent:n,parentProperty:o,hasArrExpr:v},f,"value"),N;var G=c[0],H=c.slice(1),Z=[];function ae(pe){Array.isArray(pe)?pe.forEach(function(ht){Z.push(ht)}):Z.push(pe)}if(("string"!=typeof G||g)&&e&&V.call(e,G))ae(this._trace(H,e[G],ue(r,G),e,G,f,v));else if("*"===G)this._walk(e,function(pe){ae(R._trace(H,e[pe],ue(r,pe),e,pe,f,!0,!0))});else if(".."===G)ae(this._trace(H,e,r,n,o,f,v)),this._walk(e,function(pe){"object"===S(e[pe])&&ae(R._trace(c.slice(),e[pe],ue(r,pe),e,pe,f,!0))});else{if("^"===G)return this._hasParentSelector=!0,{path:r.slice(0,-1),expr:H,isParentSelector:!0};if("~"===G)return N={path:ue(r,G),value:o,parent:n,parentProperty:null},this._handleCallback(N,f,"property"),N;if("$"===G)ae(this._trace(H,e,r,null,null,f,v));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(G))ae(this._slice(G,H,e,r,n,o,f));else if(0===G.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");var ge=G.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1");this._walk(e,function(pe){R._eval(ge,e[pe],pe,r,n,o)&&ae(R._trace(H,e[pe],ue(r,pe),e,pe,f,!0))})}else if("("===G[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");ae(this._trace(J(this._eval(G,e,r[r.length-1],r.slice(0,-1),n,o),H),e,r,n,o,f,v))}else if("@"===G[0]){var de=!1,Y=G.slice(1,-2);switch(Y){case"scalar":(!e||!["object","function"].includes(S(e)))&&(de=!0);break;case"boolean":case"string":case"undefined":case"function":S(e)===Y&&(de=!0);break;case"integer":Number.isFinite(e)&&!(e%1)&&(de=!0);break;case"number":Number.isFinite(e)&&(de=!0);break;case"nonFinite":"number"==typeof e&&!Number.isFinite(e)&&(de=!0);break;case"object":e&&S(e)===Y&&(de=!0);break;case"array":Array.isArray(e)&&(de=!0);break;case"other":de=this.currOtherTypeCallback(e,r,n,o);break;case"null":null===e&&(de=!0);break;default:throw new TypeError("Unknown value type "+Y)}if(de)return this._handleCallback(N={path:r,value:e,parent:n,parentProperty:o},f,"value"),N}else if("`"===G[0]&&e&&V.call(e,G.slice(1))){var k=G.slice(1);ae(this._trace(H,e[k],ue(r,k),e,k,f,v,!0))}else if(G.includes(",")){var Re,ye=function U(c,e){var r=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!r){if(Array.isArray(c)||(r=se(c))||e&&c&&"number"==typeof c.length){r&&(c=r);var n=0,o=function(){};return{s:o,n:function(){return n>=c.length?{done:!0}:{done:!1,value:c[n++]}},e:function(R){throw R},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g,f=!0,v=!1;return{s:function(){r=r.call(c)},n:function(){var R=r.next();return f=R.done,R},e:function(R){v=!0,g=R},f:function(){try{!f&&null!=r.return&&r.return()}finally{if(v)throw g}}}}(G.split(","));try{for(ye.s();!(Re=ye.n()).done;)ae(this._trace(J(Re.value,H),e,r,n,o,f,!0))}catch(pe){ye.e(pe)}finally{ye.f()}}else!g&&e&&V.call(e,G)&&ae(this._trace(H,e[G],ue(r,G),e,G,f,v,!0))}if(this._hasParentSelector)for(var Ge=0;Ge<Z.length;Ge++){var Qe=Z[Ge];if(Qe&&Qe.isParentSelector){var Ke=this._trace(Qe.expr,e,Qe.path,n,o,f,v);if(Array.isArray(Ke)){Z[Ge]=Ke[0];for(var vt=Ke.length,ke=1;ke<vt;ke++)Ge++,Z.splice(Ge,0,Ke[ke])}else Z[Ge]=Ke}}return Z},j.prototype._walk=function(c,e){if(Array.isArray(c))for(var r=c.length,n=0;n<r;n++)e(n);else c&&"object"===S(c)&&Object.keys(c).forEach(function(o){e(o)})},j.prototype._slice=function(c,e,r,n,o,f,v){if(Array.isArray(r)){var g=r.length,R=c.split(":"),N=R[2]&&Number.parseInt(R[2])||1,G=R[0]&&Number.parseInt(R[0])||0,H=R[1]&&Number.parseInt(R[1])||g;G=G<0?Math.max(0,G+g):Math.min(g,G),H=H<0?Math.max(0,H+g):Math.min(g,H);for(var Z=[],ae=G;ae<H;ae+=N)this._trace(J(ae,e),r,n,o,f,v,!0).forEach(function(de){Z.push(de)});return Z}},j.prototype._eval=function(c,e,r,n,o,f){this.currSandbox._$_parentProperty=f,this.currSandbox._$_parent=o,this.currSandbox._$_property=r,this.currSandbox._$_root=this.json,this.currSandbox._$_v=e;var v=c.includes("@path");v&&(this.currSandbox._$_path=j.toPathString(n.concat([r])));var g="script:"+c;if(!j.cache[g]){var R=c.replace(/@parentProperty/g,"_$_parentProperty").replace(/@parent/g,"_$_parent").replace(/@property/g,"_$_property").replace(/@root/g,"_$_root").replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1");v&&(R=R.replace(/@path/g,"_$_path")),j.cache[g]=new this.vm.Script(R)}try{return j.cache[g].runInNewContext(this.currSandbox)}catch(N){throw new Error("jsonPath: "+N.message+": "+c)}},j.cache={},j.toPathString=function(c){for(var e=c,r=e.length,n="$",o=1;o<r;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[o])||(n+=/^[\*0-9]+$/.test(e[o])?"["+e[o]+"]":"['"+e[o]+"']");return n},j.toPointer=function(c){for(var e=c,r=e.length,n="",o=1;o<r;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[o])||(n+="/"+e[o].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return n},j.toPathArray=function(c){var e=j.cache;if(e[c])return e[c].concat();var r=[],o=c.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(f,v){return"[#"+(r.push(v)-1)+"]"}).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,function(f,v){return"['"+v.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(f,v){return";"+v.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(f){var v=f.match(/#([0-9]+)/);return v&&v[1]?r[v[1]]:f});return e[c]=o,e[c].concat()},j.prototype.vm={Script:function(){function c(e){T(this,c),this.code=e}return x(c,[{key:"runInNewContext",value:function(r){var n=this.code,o=Object.keys(r),f=[];!function(e,r,n){for(var o=e.length,f=0;f<o;f++)n(e[f])&&r.push(e.splice(f--,1)[0])}(o,f,function(G){return"function"==typeof r[G]});var v=o.map(function(G,H){return r[G]}),g=f.reduce(function(G,H){var Z=r[H].toString();return/function/.test(Z)||(Z="function "+Z),"var "+H+"="+Z+";"+G},"");!/(["'])use strict\1/.test(n=g+n)&&!o.includes("arguments")&&(n="var arguments = undefined;"+n);var R=(n=n.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),N=R>-1?n.slice(0,R+1)+" return "+n.slice(R+1):" return "+n;return A(Function,o.concat([N])).apply(void 0,function ne(c){return function le(c){if(Array.isArray(c))return oe(c)}(c)||function _(c){if(typeof Symbol<"u"&&null!=c[Symbol.iterator]||null!=c["@@iterator"])return Array.from(c)}(c)||se(c)||function ie(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(v))}}]),c}()},t(8674);class ce{constructor(e,r){this.array=!1,this.readOnly=!1,this.hidden=!1,this.parent=e,this.relativeId=r}isArray(){return this.array}setArray(e){this.array=e}isEnum(){return!1}isObject(){return!1}isReference(){return!1}isValue(){return!1}isRoot(){return!1}isHidden(){return this.hidden}setHidden(e){this.hidden=e}isReadonly(){return this.readOnly}setReadonly(e){this.readOnly=e}static generateItem(e,r,n){let f,o=Array.isArray(e);if(o)return console.error("arrays are not supported",e),e;if(o=!1,e.type)switch(e.type){case"object":f=new fe(e,r,n);break;case"array":f=this.generateItem(e.items,r,n),o=!0;break;default:f=new xe(e,r,n)}else if(e.enum)f=new Ce(e,r,n);else{if(!e.$ref)return e;f=new De(e,r,n)}return!0===e.readOnly&&f.setReadonly(!0),!0===e.writeOnly&&f.setHidden(!0),f.setArray(o),f}static isObject(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}static goto(e,r){let n=e;return r.split("/").forEach(o=>{"#"!==o&&""!=o&&(n=n?.getChild(o)),n||console.error("Cannot find "+o+" of "+r+" in the following item ",e)}),n}upsertWith(e){return!1}getParent(){return this.parent}getChild(e){}getChildren(){return(new Map).entries()}updateWith(e){}allProperties(){return[].values()}getProperties(e){}hasProperties(e){return!1}getRelativeId(){return this.relativeId}setRelativeId(e){this.relativeId=e}getTargetPath(){return this.targetPath}setTargetPath(e){this.targetPath=e}isPossibleDynamicProperty(e){const r=this.getChildren();for(const n of r){const o=n[1].allProperties();for(const f of o)if(f[1].getChild(e))return f[1]}}getAllPossibleDynamicProperties(){const e=this.getChildren(),r=new Map;for(const n of e){const o=n[1].allProperties();for(const f of o)for(const v of f[1].getChildren())r.has(v[0])&&console.warn("Dynamic Property "+v[0]+" is being defined by multiple children."),r.set(v[0],v[1])}return r.entries()}getChildrenAndPossibleProperties(){return Ee(this.getChildren(),this.getAllPossibleDynamicProperties())}}function*Ee(...c){for(let e of c){let r;for(e=e[Symbol.iterator]();r=e.next(),!r.done;)yield r.value}}class fe extends ce{constructor(e,r,n){super(n,r),this.children=new Map,e&&this.readJson(e)}readJson(e){const r=e.properties;if(r)for(const n in r)this.children.set(n,ce.generateItem(r[n],n,this))}isEnum(){return!1}isObject(){return!0}isReference(){return!1}isValue(){return!1}isRoot(){return!1}upsertWith(e){const r=this.getChild(e.location.id);if(r)r.updateWith(e);else if(null!=e.location.id){const n=ce.generateItem(e.update,e.location.id,this);if(e.location.after){const o=new Map;this.children.forEach((f,v)=>{o.set(v,f),v===e.location.after&&null!=e.location.id&&o.set(e.location.id,n)}),this.children=o}else this.children.set(e.location.id,n);n.updateWith(e)}return!0}updateWith(e){super.updateWith(e)}getChild(e){if(e)return this.children.get(e)}getChildren(){return this.children.entries()}}class Ue extends fe{constructor(e){super(e,void 0)}readJson(e){super.readJson(e);const r=e.$defs;r&&this.children.set("$defs",new fe({properties:r},"$defs",this))}isEnum(){return!1}isObject(){return!0}isReference(){return!1}isValue(){return!1}isRoot(){return!0}}class Ce extends ce{constructor(e,r,n){super(n,r),this.values=new Array,this.properties=new Map,this.updateValues(e.enum,this.values),this.targetPath=e.format}isEnum(){return!0}isObject(){return!1}isReference(){return!1}isValue(){return!1}isRoot(){return!1}getValues(){return this.values}updateWith(e){super.updateWith(e),this.updateValues(e.update.enum,this.values,e)}updateValues(e,r,n){e.forEach(o=>{if("string"==typeof o){if(r.find(f=>f.getValue()===o)||r.push(new Ie(o)),n?.props){const f=new Ne(n,this.relativeId+"="+o,this);f.isEmpty()||this.properties.set(o,f)}}else for(const f in o)if(o.hasOwnProperty(f)){let v=r.find(g=>g.getValue()===o);v||(v=new Ie(f),r.push(v)),v.getChildren()||v.setChildren([]),this.updateValues(o[f].enum,v.getChildren(),n)}})}allProperties(){return this.properties.entries()}getProperties(e){return this.properties.get(e)}hasProperties(e){return this.properties.has(e)}}class Ie{constructor(e,r){this._children=new Array,this._value=e,this._label=r||e}getLabel(){return this._label?this._label:this._value}setLabel(e){this._label=e}getValue(){return this._value}setValue(e){this._value=e}getChildren(){return this._children}setChildren(e){this._children=e}}class xe extends ce{constructor(e,r,n){super(n,r),this.type=e.type,this.targetPath=e.format}isValue(){return!0}getType(){return this.type}}class De extends ce{constructor(e,r,n){super(n,r),this.resolvedRef=new Map,this.ref=e.$ref}isReference(){return!0}getReference(){return this.ref}resolveReference(e){this.resolvedRef.set("",e)}getChildren(){return this.resolvedRef.entries()}}class Ne extends fe{constructor(e,r,n){super({type:"object",properties:e.props},r,n),this.replace=!!e.replace&&e.replace,this.posAfter=e.location.after}isEmpty(){return 0==this.children.size}isReplace(){return this.replace}getPosAfter(){return this.posAfter}}class y{}y.ROOT="creation",y.APP_NAME_NODE="name",y.APP_TYPE_NODE="type",y.APP_TYPE=y.ROOT+"/"+y.APP_TYPE_NODE,y.APP_NAME=y.ROOT+"/"+y.APP_NAME_NODE,y.APP_ENTITIES_NODE="entities",y.APP_ENTITIES=y.ROOT+"/"+y.APP_ENTITIES_NODE,y.APP_ENTITIES_FROM_NODE="from",y.APP_ENTITIES_FROM=y.APP_ENTITIES+"/"+y.APP_ENTITIES_FROM_NODE,y.APP_ENTITIES_NAME_NODE="name",y.APP_ENTITIES_NAME=y.APP_ENTITIES+"/"+y.APP_ENTITIES_NAME_NODE,y.APP_FIELDS_NODE="fields",y.APP_FIELDS=y.APP_ENTITIES+"/"+y.APP_FIELDS_NODE,y.APP_FIELDS_NAME_NODE="name",y.APP_FIELDS_NAME=y.APP_FIELDS+"/"+y.APP_FIELDS_NAME_NODE,y.APP_FIELDS_TYPE_NODE="type",y.APP_FIELDS_TYPE=y.APP_FIELDS+"/"+y.APP_FIELDS_TYPE_NODE,y.APP_SHARING_NODE="sharing",y.APP_SHARING=y.ROOT+"/"+y.APP_SHARING_NODE,y.APP_SHARING_WITH_NODE="with",y.APP_SHARING_WITH=y.APP_SHARING+"/"+y.APP_SHARING_WITH_NODE,y.APP_REPORTS_NODE="reports",y.APP_REPORTS=y.ROOT+"/"+y.APP_REPORTS_NODE,y.APP_REPORTS_TITLE_NODE="title",y.APP_REPORTS_TITLE=y.APP_REPORTS+"/"+y.APP_REPORTS_TITLE_NODE,y.APP_REPORTS_FOR_NODE="for",y.APP_REPORTS_FOR=y.APP_REPORTS+"/"+y.APP_REPORTS_FOR_NODE,y.APP_REPORTS_GROUP_NODE="groupedBy",y.APP_REPORTS_GROUP=y.APP_REPORTS+"/"+y.APP_REPORTS_GROUP_NODE,y.APP_REPORTS_SORT_NODE="sortedBy",y.APP_REPORTS_SORT=y.APP_REPORTS+"/"+y.APP_REPORTS_SORT_NODE,y.APP_REPORTS_DISPLAY_NODE="as",y.APP_REPORTS_DISPLAY=y.APP_REPORTS+"/"+y.APP_REPORTS_DISPLAY_NODE,y.APP_REPORTS_GROUP_LABEL_NODE="label",y.APP_REPORTS_GROUP_LABEL=y.APP_REPORTS_GROUP+"/"+y.APP_REPORTS_GROUP_LABEL_NODE,y.APP_REPORTS_GROUP_OF_NODE="of",y.APP_REPORTS_GROUP_OF=y.APP_REPORTS_GROUP+"/"+y.APP_REPORTS_GROUP_OF_NODE,y.APP_REPORTS_GROUP_SHOW_NODE="show",y.APP_REPORTS_GROUP_SHOW=y.APP_REPORTS_GROUP+"/"+y.APP_REPORTS_GROUP_SHOW_NODE,y.APP_REPORTS_GROUP_AGGREGATE_NODE="display",y.APP_REPORTS_GROUP_AGGREGATE=y.APP_REPORTS_GROUP+"/"+y.APP_REPORTS_GROUP_AGGREGATE_NODE,y.APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE="label",y.APP_REPORTS_GROUP_AGGREGATE_LABEL=y.APP_REPORTS_GROUP_AGGREGATE+"/"+y.APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE,y.APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE="operation",y.APP_REPORTS_GROUP_AGGREGATE_OPERATION=y.APP_REPORTS_GROUP_AGGREGATE+"/"+y.APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE,y.APP_REPORTS_GROUP_AGGREGATE_OF_NODE="of",y.APP_REPORTS_GROUP_AGGREGATE_OF=y.APP_REPORTS_GROUP_AGGREGATE+"/"+y.APP_REPORTS_GROUP_AGGREGATE_OF_NODE,y.APP_REPORTS_SORT_BY_NODE="by",y.APP_REPORTS_SORT_BY=y.APP_REPORTS_SORT+"/"+y.APP_REPORTS_SORT_BY_NODE,y.APP_REPORTS_SORT_DIRECTION_NODE="direction",y.APP_REPORTS_SORT_DIRECTION=y.APP_REPORTS_SORT+"/"+y.APP_REPORTS_SORT_DIRECTION_NODE,y.APP_REPORTS_DISPLAY_TITLE_NODE="title",y.APP_REPORTS_DISPLAY_TITLE=y.APP_REPORTS_DISPLAY+"/"+y.APP_REPORTS_DISPLAY_TITLE_NODE,y.APP_REPORTS_DISPLAY_TYPE_NODE="type",y.APP_REPORTS_DISPLAY_TYPE=y.APP_REPORTS_DISPLAY+"/"+y.APP_REPORTS_DISPLAY_TYPE_NODE,y.APP_REPORTS_DISPLAY_OF_NODE="of",y.APP_REPORTS_DISPLAY_OF=y.APP_REPORTS_DISPLAY+"/"+y.APP_REPORTS_DISPLAY_OF_NODE,y.APP_REPORTS_DISPLAY_BY_NODE="by",y.APP_REPORTS_DISPLAY_BY=y.APP_REPORTS_DISPLAY+"/"+y.APP_REPORTS_DISPLAY_BY_NODE,y.APP_SOURCES_NODE="sources",y.APP_SOURCES=y.ROOT+"/"+y.APP_SOURCES_NODE,y.APP_SOURCES_NAME_NODE="name",y.APP_SOURCES_NAME=y.ROOT+"/"+y.APP_SOURCES_NODE+"/"+y.APP_SOURCES_NAME_NODE,y.APP_SOURCES_TYPE_NODE="type",y.APP_SOURCES_TYPE=y.ROOT+"/"+y.APP_SOURCES_NODE+"/"+y.APP_SOURCES_TYPE_NODE,y.APP_SOURCES_URL_NODE="url",y.APP_SOURCES_URL=y.ROOT+"/"+y.APP_SOURCES_NODE+"/"+y.APP_SOURCES_URL_NODE,y.APP_SCREENS_NODE="screens",y.APP_SCREENS=y.ROOT+"/"+y.APP_SCREENS_NODE,y.APP_SCREENS_NAME_NODE="name",y.APP_SCREENS_NAME=y.APP_SCREENS+"/"+y.APP_SCREENS_NAME_NODE,y.APP_SCREENS_LAYOUT_NODE="layout",y.APP_SCREENS_LAYOUT=y.APP_SCREENS+"/"+y.APP_SCREENS_LAYOUT_NODE,y.APP_COMPONENTS_NODE="components",y.APP_COMPONENTS=y.APP_SCREENS+"/"+y.APP_COMPONENTS_NODE,y.APP_COMPONENTS_TYPE_NODE="type",y.APP_COMPONENTS_TYPE=y.APP_COMPONENTS+"/"+y.APP_COMPONENTS_TYPE_NODE,y.APP_COMPONENTS_ENTITY_NODE="entity",y.APP_COMPONENTS_ENTITY=y.APP_COMPONENTS+"/"+y.APP_COMPONENTS_ENTITY_NODE;class be{}be.ROOT="/properties/"+y.ROOT,be.defaultv1={$id:"https://dont-code.net/v1/dont-code-schema.json",$schema:"https://json-schema.org/draft/2020-12/schema",description:"JSON Schema v1 for dont-code",type:"object",required:["creation"],properties:{creation:{type:"object",properties:{type:{enum:["Application"]},name:{type:"string"},entities:{type:"array",items:{$ref:"#/$defs/entity"}},sharing:{$ref:"#/$defs/sharing"},reports:{type:"array",items:{$ref:"#/$defs/report"}},sources:{type:"array",items:{$ref:"#/$defs/source"}},screens:{type:"array",items:{$ref:"#/$defs/screen"}}},additionalProperties:!1}},$defs:{entity:{type:"object",properties:{from:{type:"string",format:"$.creation.sources.name"},name:{type:"string"},fields:{type:"array",items:{$ref:"#/$defs/field"}}},additionalProperties:!1},field:{type:"object",properties:{name:{type:"string"},type:{enum:["Text","Number","Boolean",{Time:{enum:["Date","Date & Time","Time"]}},{Money:{enum:["Dollar","Euro","Other currency"]},Web:{enum:["Website (url)","Image"]}},{Special:{enum:["Reference"]}}]}},additionalProperties:!1},sharing:{type:"object",properties:{with:{enum:["No-one"]}},additionalProperties:!1},source:{type:"object",properties:{name:{type:"string"},type:{enum:["Unknown"]}}},report:{type:"object",properties:{title:{type:"string"},for:{type:"string",format:"$.creation.entities.name"},groupedBy:{type:"array",items:{$ref:"#/$defs/report-group"}},sortedBy:{type:"array",items:{$ref:"#/$defs/report-sort"}},as:{type:"array",items:{$ref:"#/$defs/report-display"}}},additionalProperties:!1},"report-group":{type:"object",properties:{of:{type:"string",format:".fields.name"},label:{type:"string"},show:{enum:["OnlyLowest","OnlyHighest"]},display:{type:"array",items:{$ref:"#/$defs/report-group-aggregate"}}},additionalProperties:!1},"report-group-aggregate":{type:"object",properties:{operation:{enum:["Count","Sum","Average","Minimum","Maximum"]},of:{type:"string",format:".@parent.fields.name"},label:{type:"string"}},additionalProperties:!1},"report-sort":{type:"object",properties:{by:{type:"string",format:".fields.name"},direction:{enum:["None","Ascending","Descending"]}},additionalProperties:!1},"report-display":{type:"object",properties:{type:{enum:["Table","Bar","Line","Pie"]},of:{type:"string",format:".@parent.fields.name"},by:{type:"string",format:".@parent.fields.name"},title:{type:"string"}},additionalProperties:!1},screen:{type:"object",properties:{name:{type:"string"},layout:{enum:["Flow","Grid"]},components:{type:"array",items:{$ref:"#/$defs/component"}}},additionalProperties:!1},component:{type:"object",properties:{type:{enum:["List","Edit","View"]},entity:{type:"string",format:"$.creation.entities.name"}},additionalProperties:!1}}};class te{constructor(e,r,n,o,f,v){this.position=e,this.positionInSchema=r,this.containerPosition=n,this.containerPositionInSchema=o,this.lastElement=f||"",this.isProperty=v,this.fillMissingElements()}fillMissingElements(e){var r,n,o;if(null==this.position||null==this.positionInSchema)throw new Error("Cannot fill Elements for an empty position");null==this.containerPosition&&(this.containerPosition=null!==(r=te.parentPosition(this.position))&&void 0!==r?r:void 0),null==this.containerPositionInSchema&&(this.containerPositionInSchema=null!==(n=te.parentPosition(this.positionInSchema))&&void 0!==n?n:void 0),(null==this.lastElement||0==this.lastElement.length)&&(this.lastElement=null!==(o=te.lastElementOf(this.position))&&void 0!==o?o:this.position),null==this.isProperty&&e&&(this.isProperty=!this.containerPositionInSchema||null!=e.locateItem(this.containerPositionInSchema,!0).getChild(this.lastElement))}static lastElementOf(e){return null==e?e:e.substring(e.lastIndexOf("/")+1)}static nextItemAndPosition(e,r){let n=e.indexOf("/",r);n===r&&(n=e.indexOf("/",r+=1)),-1!==n?n-=1:n=n===r?-1:e.length-1;let o=null;return-1!==n&&(o=e.substring(r,n+1)),{pos:n,value:o}}calculateKeyOrContainer(){var e;return!0===this.isProperty?this.lastElement:null!==(e=te.lastElementOf(this.containerPosition))&&void 0!==e?e:""}calculateItemIdOrContainer(){var e;return!1===this.isProperty?this.lastElement:null!==(e=te.lastElementOf(this.containerPosition))&&void 0!==e?e:""}isSubItemOf(e){return e.position===this.containerPosition?this.lastElement:null}isUnderSubItemOf(e){if(this.positionInSchema.startsWith(e.positionInSchema)){const r=this.positionInSchema.indexOf("/",e.positionInSchema.length+1);return-1==r?this.positionInSchema.substring(e.positionInSchema.length+1):this.positionInSchema.substring(e.positionInSchema.length+1,r)}return null}subItemOrPropertyPointer(e,r){return r?this.subPropertyPointer(e):this.subItemPointer(e)}subPropertyPointer(e){return new te(""===this.position?e:this.position+"/"+e,""===this.positionInSchema?e:this.positionInSchema+"/"+e,this.position,this.positionInSchema,e,!0)}subItemPointer(e){return new te(""===this.position?e:this.position+"/"+e,this.positionInSchema,this.position,this.containerPositionInSchema,e,!1)}safeParentPointer(e){const r=this.parentPointer(e);if(void 0===r)throw new Error("No parent position for pointer "+this.position);return r}parentPointer(e){if(null==this.containerPosition||null==this.containerPositionInSchema)return;const r=new te(this.containerPosition,this.containerPositionInSchema);return null!=e&&r.fillMissingElements(e),r}isParentOf(e,r){if(!0===r){const n=te.parentPosition(e);return null!=n&&this.position==n}return e.startsWith(this.position)}static parentPosition(e){if(null==e||0===e.length)return null;const r=e.lastIndexOf("/");return-1==r?"":e.substring(0,r)}static splitPosition(e){if(null==e||0===e.length)return null;const r=e.lastIndexOf("/");return-1==r?{parent:"",element:e}:{parent:e.substring(0,r),element:e.substring(r+1)}}}class Fe{constructor(){this.reset()}getSchema(){return this.currentSchema}convertSchemaToMap(e){return new Ue(e)}registerChanges(e){if(e["schema-updates"]){const r=e["schema-updates"];for(const n of r){const o=n.changes;for(const f of o)if(f.location.id){const v=this.locateItem(f.location.parent);if(!v)throw"Cannot find parent element: "+f.location.parent;v.upsertWith(f)}}}}locateItem(e,r){const n=e.split("/");let o=this.currentSchema;for(const f of n){if(!o)throw console.error("Could not find subItem "+f+" of "+e),new Error("Could not find subItem "+f+" of "+e);if(f&&f.length>0&&"#"!==f){if(o.isReference()&&(o=this.resolveReference(o)),!o)throw console.error("Could not find reference "+o?.getReference()+" of "+e),new Error("Could not find reference "+o?.getReference()+" of "+e);o=o.getChild(f)}}if(r&&o?.isReference()&&(o=this.resolveReference(o)),null!=o)return o;throw new Error("Could not find item at schema position "+e)}resolveReference(e){return this.locateItem(e.getReference())}generateParentPointer(e){if(null!=e.containerPosition)return this.generateSchemaPointer(e.containerPosition)}generateSchemaPointer(e){var r;let n;const o=e,f=o.split("/");if(0===f.length||0===f[0].length)return n=new te(e,e),n;n=new te(e,"");let v=this.currentSchema,g=!1;for(const R of f)if(g)n.isProperty=!1,g=!1;else{let N=null!==(r=v.getChild(R))&&void 0!==r?r:v.isPossibleDynamicProperty(R);if(!N)throw new Error("Cannot parse '"+o+"' from the schema as "+R+" is not a child of "+v.getRelativeId());if(n.isProperty=!0,n.containerPositionInSchema=n.positionInSchema,n.positionInSchema=null!==n.positionInSchema&&n.positionInSchema.length>0?n.positionInSchema+"/"+R:R,g=!!N.isArray(),N.isReference()&&(N=this.resolveReference(N)),null==N)throw new Error("Cannot parse '"+o+"' from the schema as "+N+" is reference an unknown element");v=N}return n.containerPositionInSchema=n.positionInSchema.substring(0,n.positionInSchema.lastIndexOf("/")),n.containerPosition=n.position.substring(0,n.position.lastIndexOf("/")),n.lastElement=f[f.length-1],n}generateSubSchemaPointer(e,r){return this.locateItem(e.positionInSchema,!0).getChild(r)?e.subPropertyPointer(r):e.subItemPointer(r)}reset(){this.readSchema=be.defaultv1,this.currentSchema=this.convertSchemaToMap(this.readSchema)}}class Me{constructor(){this.plugins=new Map}registerPlugin(e,r,n){const o=e.getConfiguration(),f=o.plugin.id+"-v"+o.plugin.version;null==this.plugins.get(f)&&(r.registerChanges(o),n.registerHandlers(o),this.plugins.set(f,new Xe(e)))}initPlugins(e){this.plugins.forEach(r=>{var n;if(!1===r.initCalled)try{const o=null===(n=r.plugin.getConfiguration())||void 0===n?void 0:n["definition-updates"];e.getChangeManager().applyPluginConfigUpdates(o),r.plugin.pluginInit(e),r.initCalled=!0}catch(o){console.error("Error calling "+r.plugin+" init method:",o)}})}reset(){this.plugins.clear()}}class Xe{constructor(e,r){this.plugin=e,this.initCalled=null!=r&&r}}class He{constructor(){this.reset()}reset(){this.handlersPerLocations=new Map,this.globalHandlersPerLocations=new Map,this.actionHandlersPerLocation=new Map,this.globalHandlers=new E.ReplaySubject}registerHandlers(e){if(e["preview-handlers"]&&e["preview-handlers"].forEach(r=>{let n=this.handlersPerLocations.get(r.location.parent);n||(n=new Array,this.handlersPerLocations.set(r.location.parent,n)),n.push(r)}),e["global-handlers"]&&e["global-handlers"].forEach(r=>{let n=this.handlersPerLocations.get(r.location.parent);n||(n=new Array,this.handlersPerLocations.set(r.location.parent,n)),n.push(r),n=this.globalHandlersPerLocations.get(r.location.parent),n||(n=new Array,this.globalHandlersPerLocations.set(r.location.parent,n)),n.push(r),this.globalHandlers.next(r)}),e["action-handlers"])for(const r of e["action-handlers"]){let n=this.actionHandlersPerLocation.get({position:r.location.parent,context:r["action-context"]});n||(n=new Array,this.actionHandlersPerLocation.set({position:r.location.parent,context:r["action-context"]},n)),n.push(r)}}getGlobalHandlers(){return this.globalHandlersPerLocations}receiveGlobalHandlers(){return this.globalHandlers}retrieveHandlerConfig(e,r){const n=this.handlersPerLocations.get(e);let o=null,f=!1;if(n)for(const v of n)if(v.location.values)if(r){let g=r;v.location.id&&(g=r[v.location.id]),this.extractValuesAsArray(v.location.values).forEach(R=>{R!==g||(o=v)})}else f=!0;else null===o&&(o=v);else if("string"==typeof r&&e.lastIndexOf("/")>0){e.endsWith("/")&&(e=e.substring(0,e.length-1));const g={};return g[e.substring(e.lastIndexOf("/")+1)]=r,this.retrieveHandlerConfig(e.substring(0,e.lastIndexOf("/")),g)}if(null===o&&f)throw new Error("Content must be provided in order to select an handler for position "+e);return o}retrieveActionHandlers(e,r,n){return this.actionHandlersPerLocation.get({position:e,context:r})??[]}extractValuesAsArray(e){const r=new Array;return this.extractValuesToArray(e,r),r}extractValuesToArray(e,r){if(Array.isArray(e))e.forEach(n=>{"string"==typeof n?r.push(n):this.extractValuesToArray(n,r)});else for(const n in e)e.hasOwnProperty(n)&&this.extractValuesToArray(e[n],r)}}var je=(()=>{return(c=je||(je={})).OnlyLowest="OnlyLowest",c.OnlyHighest="OnlyHighest",je;var c})(),Oe=(()=>{return(c=Oe||(Oe={})).Count="Count",c.Sum="Sum",c.Average="Average",c.Minimum="Minimum",c.Maximum="Maximum",Oe;var c})(),Te=(()=>{return(c=Te||(Te={})).None="None",c.Ascending="Ascending",c.Descending="Descending",Te;var c})(),Le=(()=>{return(c=Le||(Le={})).LIST="list",c.EDIT="edit",c.VIEW="view",Le;var c})(),w=(()=>{return(c=w||(w={})).EXTRACT="extract",c.UPDATE="update",c.CALCULATE="calculate",w;var c})();class z{constructor(e,r){this.modelMgr=e,this.providerByPosition=new Map,this.providerByType=new Map,this._default=r,this.reset()}reset(){this.providerByPosition.clear(),this.providerByType.clear()}getProvider(e){var r;if(null==e)return this._default;{let n=null;const o=null===(r=this.modelMgr.findTargetOfProperty(y.APP_ENTITIES_FROM_NODE,e))||void 0===r?void 0:r.value;return o&&(n=this.providerByType.get(o.type)),n||(n=this.providerByPosition.get(e)),n??this._default}}getProviderSafe(e){const r=this.getProvider(e);if(null==r)throw new Error("Trying to get an undefined or null provider");return r}getDefaultProvider(){return this.getProvider()}getDefaultProviderSafe(){return this.getProviderSafe()}setProvider(e,r){null==r?this._default=e:this.providerByPosition.set(r,e)}setProviderForSourceType(e,r){this.providerByType.set(r,e)}setDefaultProvider(e){this.setProvider(e)}removeProvider(e){null==e?this._default=void 0:this.providerByPosition.delete(e)}removeProviderForSourceType(e){this.providerByType.delete(e)}removeDefaultProvider(){this.removeProvider()}storeEntity(e,r){return this.getProviderSafe(e).storeEntity(e,r)}loadEntity(e,r){return this.getProviderSafe(e).loadEntity(e,r)}safeLoadEntity(e,r){return this.getProviderSafe(e).safeLoadEntity(e,r)}deleteEntity(e,r){return this.getProviderSafe(e).deleteEntity(e,r)}searchEntities(e,...r){return this.getProviderSafe(e).searchEntities(e,...r)}searchAndPrepareEntities(e,r,n,o,...f){return this.getProviderSafe(e).searchAndPrepareEntities(e,r,n,o,...f)}canStoreDocument(e){var r;return(null===(r=this.getProvider(e))||void 0===r?void 0:r.canStoreDocument(e))||!1}storeDocuments(e,r){return this.getProviderSafe(r).storeDocuments(e,r)}}var Q=(()=>{return(c=Q||(Q={})).EQUALS="=",c.LESS_THAN="<",c.LESS_THAN_EQUAL="<=",Q;var c})();class X{constructor(e,r,n){this.name=e,this.value=r,this.operator=n||Q.EQUALS}}class q{constructor(e,r,n){this.by=e,this.subSort=n,this.direction=null==r?Te.None:r}}class we{constructor(e,r,n){this.of=e,this.show=n,this.display=null==r?{}:r}atLeastOneGroupIsRequested(){return null!=this.display&&Object.keys(this.display).length>0}getRequiredListOfFields(){const e=new Set;if(null!=this.display)for(const r of Object.values(this.display))e.add(r.of);return e}}class $e{constructor(e,r){this.of=e,this.operation=r}}class he{constructor(e,r,n,o,f,v){if(this.type=e,this.position=r,"/"===r)throw new Error("Root position is defined by empty string and not slash anymore");this.value=n,this.pointer=o,this.beforeKey=f,this.oldPosition=v}getSafeParentPosition(){const e=this.getParentPosition();if(null==e)throw new Error("No Parent position for root changes.");return e}getParentPosition(){var e;return null!=this.pointer?null!==(e=this.pointer.containerPosition)&&void 0!==e?e:null:te.parentPosition(this.position)}}var K=(()=>{return(c=K||(K={})).ADD="ADD",c.UPDATE="UPDATE",c.DELETE="DELETE",c.MOVE="MOVE",c.RESET="RESET",c.ACTION="ACTION",K;var c})();class Ve extends he{constructor(e,r,n,o,f,v,g){super(g??K.ACTION,e,r,f),this.running=new E.Subject,this.context=n,this.actionType=o,null!=v&&(this.running=v)}}class me{constructor(e){this.schemaMgr=e,this.reset()}reset(){this.content=void 0}getContent(){return this.content}resetContent(e){this.content=e}static isHidden(e){return 1==e?.$hidden}static isReadonly(e){return 1==e?.$readOnly}applyChange(e){var r,n;let o=null!==(r=e.pointer)&&void 0!==r?r:this.schemaMgr.generateSchemaPointer(e.position);e.pointer=o;const v=null===(n=e.pointer)||void 0===n?void 0:n.lastElement;null!=o.containerPosition&&null!=v&&(o=this.schemaMgr.generateParentPointer(o));const g=new Ze;g.isRoot=!0,g.name=o.position;let R=g,N=this.findAtPosition(o.position);if(null==N){if(e.type===K.DELETE)return[];{N=this.findAtPosition(o.position,!0,g);let G=o.position;for(;R.subChanges.length>0;)G=G.substring(0,G.lastIndexOf("/")),R=R.subChanges[0];g.name=G}}return e.type===K.ACTION&&(R.type=K.ACTION),this.applyChangeRecursive(e,N,e.value,e.pointer,R),this.generateChanges(e,g,this.schemaMgr.generateSchemaPointer(g.name))}applyChangeRecursive(e,r,n,o,f,v){if(null==e.pointer)throw new Error("Cannot apply a change without a pointer at position "+e.position);null==v&&(v=e.oldPosition);const g=o.lastElement;if(g||0===g.length){const R=0===g.length?r:r[g];switch(e.type){case K.ACTION:{const N=f.createSubChange(K.ACTION,g,f.value);this.compareRecursiveIfNeeded(e,R,null,o,N);break}case K.ADD:case K.UPDATE:case K.RESET:{let N;e.type===K.RESET&&e.position===o.position?"object"==typeof n&&this.isTheSameForParent(R,n)?N=f.createSubChange(void 0,g,null):("object"==typeof n||R!==n)&&(N=f.createSubChange(K.RESET,g,n)):null==R?N=f.createSubChange(K.ADD,g,n):"object"==typeof n&&this.isTheSameForParent(R,n)?N=f.createSubChange(void 0,g,null):("object"==typeof n||R!==n)&&(N=f.createSubChange(K.UPDATE,g,n)),N&&this.compareRecursiveIfNeeded(e,R,n,o,N),g.length>0&&this.insertProperty(r,g,n,e.beforeKey)}break;case K.DELETE:if(r[g]){const N=f.createSubChange(K.DELETE,g,null);this.compareRecursiveIfNeeded(e,r[g],n,o,N),delete r[g]}break;case K.MOVE:if(e.position===o.position){if(null==v)throw new Error("Cannot process MOVE change without oldPosition"+e.position);if(null==n&&(n=this.findAtPosition(v)),n){const N=f.createSubChange(K.MOVE,g,n,v);if(e.position!==v){this.compareRecursiveIfNeeded(e,null,n,o,N,v),this.insertProperty(r,g,n,e.beforeKey);const G=te.splitPosition(v);delete this.findAtPosition(G.parent)[G.element]}else this.compareRecursiveIfNeeded(e,null,n,o,N,v),this.insertProperty(r,g,n,e.beforeKey)}}else{const N=f.createSubChange(K.MOVE,g,null,v);this.compareRecursiveIfNeeded(e,r,n,o,N,v)}break;default:throw new Error("No support for change of type "+e.type)}}else this.compareRecursiveIfNeeded(e,r,n,o,f,v)}isTheSameForParent(e,r){if(r===e)return!0;if(null==r||null==e)return!1;if("object"==typeof e&&"object"==typeof r){const n=Object.keys(e),o=Object.keys(r);return n.length===o.length&&n.every((f,v)=>f===o[v])}return e===r}compareRecursiveIfNeeded(e,r,n,o,f,v){(null==r||"object"!=typeof r)&&(r={}),(null==n||"object"!=typeof n)&&(n={});const g=new Set;for(const R in r){const N=this.schemaMgr.generateSubSchemaPointer(o,R),G=N.position;g.add(R),n.hasOwnProperty(R)?this.applyChangeRecursive(e,r,n[R],N,f,v):e.type==K.ACTION?this.applyChangeRecursive(new Ve(G,e.value,e.context,e.actionType,N,e.running),r,null,N,f):this.applyChangeRecursive(new he(K.DELETE,G,null,N),r,null,N,f,v)}for(const R in n)if(e.type===K.MOVE){const N=this.schemaMgr.generateSubSchemaPointer(o,R);this.applyChangeRecursive(e,r,n[R],N,f,v+"/"+R)}else if(!g.has(R)){const N=this.schemaMgr.generateSubSchemaPointer(o,R);this.applyChangeRecursive(new he(K.ADD,N.position,n[R],N),r,n[R],N,f)}}generateChanges(e,r,n,o){if(null==o&&(o=new Array),null==e.pointer)throw new Error("Cannot generate changes without the pointer");if(null==n&&(n=e.pointer),null!=r.type)if(r.type===K.MOVE){if(null==r.oldPosition)throw new Error("A Move Change must have an oldPosition set "+n.position);r.oldPosition!==n.position&&e.position===n.position&&o.push(new he(K.UPDATE,te.parentPosition(r.oldPosition),r.value)),o.push(new he(K.MOVE,n.position,r.value,n,void 0,r.oldPosition))}else o.push(r.type===K.ACTION?new Ve(n.position,e.value,e.context,e.actionType,n,e.running):new he(r.type,n.position,r.value,n));else for(let f=0;f<r.subChanges.length;f++){const v=r.subChanges[f];if(null!=v.type&&v.type!==K.UPDATE&&v.name.length>0){o.push(new he(K.UPDATE,n.position,this.findAtPosition(n.position),n));break}}for(let f=0;f<r.subChanges.length;f++){const v=r.subChanges[f];this.generateChanges(e,v,this.schemaMgr.generateSubSchemaPointer(n,v.name),o)}return o}generateNextKeyForPosition(e,r=!1){const n=this.findAtPosition(e,r);if(null==n)throw new Error("No element at position "+e);return me.generateNextKey(n)}static generateNextKey(e){let r;r=null!=e.size?e:new Set(Object.keys(e));let n=r.size,o=!1;const f=me.POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH;let v;do{v="";do{const g=Math.trunc(n/f);v=me.POSSIBLE_CHARS_FOR_ARRAY_KEYS[n%f].concat(v),n=g-1}while(n>=0);o=r.has(v),n++}while(o);return v}findAtPosition(e,r,n){const o=e.split("/");if(null==this.content){if(!r)return null;this.content={}}let f=this.content,v="";return o.forEach(g=>{if(""===g||null===f)return f;if(v=0===v.length?g:v+"/"+g,!f[g]){if(!r)return f=null,null;f[g]={},n&&(n=n.createSubChange(K.ADD,g,{}))}f=f[g]}),f}queryModelToArray(e,r){let n=this.content;return r&&(n=this.findAtPosition(r,!1)),j({path:e,json:n,resultType:"value",wrap:!1,flatten:!0})}queryModelToSingle(e,r){var n;let o=this.content;r&&(o=this.findAtPosition(r,!1));let f=j({path:e,json:o,resultType:"all",wrap:!1});if(Array.isArray(f)){if(!(f.length<=1))throw new Error("Multiple results returned by queryModelToSingle with path "+e);f=f[0]}return!(null===(n=f?.pointer)||void 0===n)&&n.startsWith("/")&&(f.pointer=f.pointer.substring(1)),null!=f&&(delete f.path,delete f.parent,delete f.parentProperty),f}findAllPossibleTargetsOfProperty(e,r,n){if(null==n){const f=this.schemaMgr.generateSchemaPointer(r);n=this.schemaMgr.locateItem(f.subPropertyPointer(e).positionInSchema,!0)}const o=n?.getTargetPath();if(n&&o){const f=o.lastIndexOf(".");return this.queryModelToArray(o.substring(0,f)+".*")}throw new Error("No Schema or no format definition for "+r+"/"+e)}findTargetOfProperty(e,r,n){const o=this.findAtPosition(r,!1);if(o&&o[e]){if(null==n){const v=this.schemaMgr.generateSchemaPointer(r);n=this.schemaMgr.locateItem(v.subPropertyPointer(e).positionInSchema,!0)}const f=n?.getTargetPath();if(n&&f){const v=f.lastIndexOf("."),g=f.substring(0,v)+"[?(@['"+f.substring(v+1)+"']===\""+o[e]+'")]';return this.queryModelToSingle(g)}throw new Error("No Schema or no format definition for "+r+"/"+e)}return null}insertProperty(e,r,n,o){if(o){const f=Object.keys(e);for(const v of f)if(v!==r){const g=e[v];delete e[v],v===o&&(void 0!==e[r]&&delete e[r],e[r]=n),e[v]=g}}else void 0!==e[r]&&delete e[r],e[r]=n}convertToChange(e){let r=this.schemaMgr.generateSchemaPointer(e.location.parent);return this.schemaMgr.locateItem(r.positionInSchema,!1).isArray()?r=r.subItemPointer(null==e.location.id||"*"===e.location.id?this.generateNextKeyForPosition(r.position,!0):e.location.id):null!=e.location.id&&(r=r.subItemPointer(e.location.id)),new he(K.ADD,r.position,e.update,r,e.location.after)}guessNamePropertyOfElement(e,r){if(null==r){if(null==e)throw new Error("Either position or model must be provided");if(null==(r=this.findAtPosition(e,!1)))throw new Error("Position "+e+" does not exist in model")}null!=r.fields&&Array.isArray(r.fields)&&(r=r.fields);const n={score:-1,field:null};for(const o in r)if(me.scoreFieldAsName(r[o].name,r[o].type,n))break;return n.score>0?n.field:null}static guessNamePropertyOfObject(e){const r={score:-1,field:null};for(const n in e)me.scoreFieldAsName(n,"Text",r);return r.score>0?r.field:null}static guessNamePropertyFromList(...e){const r={score:-1,field:null};for(const n of e)me.scoreFieldAsName(n,"Text",r);return r.score>0?r.field:null}static scoreFieldAsName(e,r,n){if(null==e)return!1;const o=e.toLowerCase();for(const[f,v]of this.NAME_PROPERTY_NAMES)if(o===f){const g=v??0;if(n.score<g&&(n.score=g,n.field=e,100==n.score))return!0}else if(o.includes(f)){const g=(v??0)/2;n.score<g&&(n.score=g,n.field=e)}return"Text"==r&&n.score<20&&(n.score=20,n.field=e),n.score>0}extractValue(e,r,n,o){if(null==e||(r.parsed||this.extractMetaData(e,r,n,o),r.direct))return e;if(r.array){if(!(e.length>0))return e;e=e[0]}if(null!=r.subValue)return e[r.subValue];if(null!=r.subValues){for(let f=0;f<r.subValues.length&&null!=(e=e[r.subValues[f]]);f++);return e}}applyValue(e,r,n,o,f,v){if(null==e||(n.parsed||this.extractMetaData(e,n,f,v),n.direct))return r;if(n.array){if(!(e.length>0))return null!=r&&e.push(r),e;e=e[0]}if(null!=n.subValue)void 0===r?delete e[n.subValue]:e[n.subValue]=r;else if(null!=n.subValues){let g=e;if(void 0===r){for(let R=0;R<n.subValues.length-1&&(g=g[n.subValues[R]],null!=g);R++);null!=g&&null!=g[n.subValues[n.subValues.length-1]]&&delete g[n.subValues[n.subValues.length-1]]}else{for(let R=0;R<n.subValues.length-1;R++)null==g[n.subValues[R]]&&(g[n.subValues[R]]={}),g=g[n.subValues[R]];if(null==g[n.subValues[n.subValues.length-1]]&&null!=o){let R=o;for(let N=0;N<n.subValues.length-1;N++){if(null==R[n.subValues[N]]){R=null;break}R=R[n.subValues[N]]}if(null!=R)for(const N in R)null==g[N]&&null!=R[N]&&(g[N]=structuredClone(R[N]))}g[n.subValues[n.subValues.length-1]]=r}}return e}extractMetaData(e,r,n,o){if(r.parsed=!0,r.subValue=null,r.subValues=null,"object"!=typeof e)null!=e?r.direct=!0:r.parsed=!1;else if(Array.isArray(e)&&(r.array=!0,console.debug("Getting an array as a value for metadata extraction",e),e.length>0?e=e[0]:r.parsed=!1),e instanceof Date)r.direct=!0;else if(void 0!==e.value)r.subValue="value";else if(void 0!==e.amount)r.subValue="amount";else if(void 0!==e.cost)r.subValues=["cost","amount"];else{let f=null;for(const v in e)null==f&&(f=v),null!=e[v]&&"object"!=typeof e[v]&&(r.subValue=v);null==r.subValue&&null==r.subValues&&("object"!=typeof e||e instanceof Date?(r.subValue=f,console.warn("Guessed value key of "+r.subValue+" for object:",e)):(console.warn("Cannot guess value for object: ",e),r.parsed=!1,r.subValue=null,r.subValues=null,r.direct=!1,r.array=!1))}}modifyValues(e,r,n,o,f,v){if(null==e)throw new Error("Cannot modify value of null object");const N=o(this.extractValue(e,n,f,v),this.extractValue(r,n,f,v));return this.applyValue(e,N,n,r,f,v)}}me.POSSIBLE_CHARS_FOR_ARRAY_KEYS="abcdefghijklmnopqrstuvxyz",me.POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH=me.POSSIBLE_CHARS_FOR_ARRAY_KEYS.length,me.NAME_PROPERTY_NAMES=new Map([["name",100],["nom",100],["title",80],["titre",80],["lastname",80],["label",70],["libell\xe9",70]]);class We{constructor(){this.parsed=!1,this.array=!1,this.direct=!1,this.subValue=null,this.subValues=null}}class Ze{constructor(e,r,n,o){this.name="",this.subChanges=new Array,this.isRoot=!1,e&&(this.type=e),r&&(this.name=r),this.oldPosition=o,this.value=n}createSubChange(e,r,n,o){const f=new Ze(e,r,n,o);return this.subChanges.push(f),f}}class ot{}class qe{constructor(e,r){this.schemaManager=e,this.modelManager=r,this.listeners=new Map,this.listenerCachePerPosition=new Map,this.reset()}reset(){null!=this.receivedChanges&&this.receivedChanges.complete(),this.receivedChanges=new E.Subject,this.listeners.clear(),this.listenerCachePerPosition.clear()}isInterestedIn(e,r,n){let o=!1;if("?"===e[e.length-1]&&(o=!0,e=e.substring(0,e.length-1)),"/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),null!=n.position&&n.position.startsWith(e)){let f=te.nextItemAndPosition(n.position,e.length+1);const v=f.value;return r?v===r||(f=te.nextItemAndPosition(n.position,f.pos+1),f.value===r):!o||null!=v&&(f=te.nextItemAndPosition(n.position,f.pos+1),""===f.value)}return!1}createNewListener(e,r){const n={position:e,property:r};this.clearEmptyListeners();let o=this.listeners.get(n);if(null==o&&(o=new E.ReplaySubject(1),this.listeners.set(n,o),this.listenerCachePerPosition.clear()),1==o.observed)return(0,E.throwError)(()=>new Error("Several components listen to the same position {"+e+", "+r));const f=this.cleanPosition(e),v=this.modelManager.findAtPosition(f,!1);if(null!=v){let g=new he(K.RESET,f,v,this.schemaManager.generateSchemaPointer(f));if(this.isInterestedIn(e,r,g))o.next(g);else if(null!=r)for(const R in v)g=new he(K.RESET,f+"/"+R,v[R],this.schemaManager.generateSchemaPointer(f+"/"+R)),this.isInterestedIn(e,r,g)?o.next(g):null!=r&&null!=v[R][r]&&(g=new he(K.RESET,f+"/"+R+"/"+r,v[R][r],this.schemaManager.generateSchemaPointer(f+"/"+R+"/"+r)),this.isInterestedIn(e,r,g)&&o.next(g))}return o}addToListenerCache(e,r){let n=this.listenerCachePerPosition.get(e);n||(n=new Array,this.listenerCachePerPosition.set(e,n)),n.push(r)}getJsonAt(e){return this.modelManager.findAtPosition(e,!1)}applyPluginConfigUpdates(e){if(null!=e)for(const r of e)this.pushChange(this.modelManager.convertToChange(r))}pushChange(e){let r=!1;const n=this.modelManager.applyChange(e);r=this.manageChangeInternally(e);for(const o of n)if(o.type!==e.type||o.position!==e.position){const f=this.manageChangeInternally(o);r=r||f}return r}manageChangeInternally(e){return e.pointer||(e.pointer=this.calculatePointerFor(e.position)),this.receivedChanges.next(e),this.findAndNotify(e,new Map)}findAndNotify(e,r){var n;let o=!1;this.listenerCachePerPosition.get(e.position)||this.listeners.forEach((v,g)=>{this.isInterestedIn(g.position,g.property,e)&&this.addToListenerCache(e.position,v)});const f=this.listenerCachePerPosition.get(e.position);if(null!=f)for(const v of f){let g=!0;const R=r.get(v);if(R)for(const N of R)e.position.startsWith(N)&&(g=!1);else r.set(v,new Array);g&&(o=!0,v.next(e),null===(n=r.get(v))||void 0===n||n.push(e.position))}return o}receiveCommands(e,r){return e?this.createNewListener(e,r):this.receivedChanges}getSchemaManager(){return this.schemaManager}calculatePointerFor(e){return this.schemaManager.generateSchemaPointer(e)}close(){this.receivedChanges.complete()}cleanPosition(e){return(e=e.endsWith("?")?e.substring(0,e.length-1):e).endsWith("/")?e.substring(0,e.length-1):e}clearEmptyListeners(){const e=new Array;for(const r of this.listeners)r[1].observed||e.push(r[0]);for(const r of e)this.listeners.delete(r)}}class _e{constructor(){console.debug("Init core"),this.schemaManager=new Fe,this.pluginManager=new Me,this.previewManager=new He,this.modelManager=new me(this.schemaManager),this.changeManager=new qe(this.schemaManager,this.modelManager),this.storeManager=new z(this.modelManager)}reset(){return this.schemaManager.reset(),this.pluginManager.reset(),this.previewManager.reset(),this.modelManager.reset(),this.changeManager.reset(),this.storeManager.reset(),this}registerPlugin(e){this.pluginManager.registerPlugin(e,this.schemaManager,this.previewManager)}initPlugins(){this.pluginManager.initPlugins(this)}getSchemaUri(){return"schemas/v1/dont-code-schema.json"}getSchemaManager(){return this.schemaManager}getPreviewManager(){return this.previewManager}getStoreManager(){return this.storeManager}getModelManager(){return this.modelManager}getChangeManager(){return this.changeManager}}self.dontCodeCore||(self.dontCodeCore=new _e);var ze=self.dontCodeCore;class it{constructor(e,r,n){this.type=e,this.sessionId=r,this.change=n}}var Je=(()=>{return(c=Je||(Je={})).INIT="INIT",c.CHANGE="CHANGE",Je;var c})();class at{}class lt{performAction(e){return new Promise(()=>{this.performSynchronousAction(e)})}performSynchronousAction(e){throw new Error("Action "+e+" for "+e.context.valueOf()+" at "+e.position+" not implemented yet")}}class Ae{static clearConfigCache(){this.specialFieldsCache.clear()}static applyFilters(e,...r){return null==r||0==r.length?e:e.filter(n=>{for(const o of r){const f=n[o.name];switch(o.operator){case Q.EQUALS:return o.value==f;case Q.LESS_THAN:return f<o.value;case Q.LESS_THAN_EQUAL:return f<=o.value;default:throw new Error("Operator "+o.operator+" unknown")}}return!0})}static findSpecialFields(e,r){var n,o,f;let v=Ae.specialFieldsCache.get(e);if(null!=v)return v;const g={score:-1,field:null};v=new et;const R=r.fields;if(null!=R){let N;for(N in R)"Date"===(null===(n=R[N])||void 0===n?void 0:n.type)||"Date & Time"===(null===(o=R[N])||void 0===o?void 0:o.type)?v.addDateField(null===(f=R[N])||void 0===f?void 0:f.name):Ae.scoreIdFieldFromEntityField(R[N],g)}return g.score>0&&(v.idField=g.field),Ae.specialFieldsCache.set(e,v),console.debug("Found special fields for entity at position "+e,v),v}static findSpecialFieldsFromData(e,r){if(null==r.idField&&e?.length>0){const n=e[0],o={score:-1,field:null};let f;for(f in n)Ae.scoreIdFieldFromProperty(f,o);if(o.score>0){const v=e.length>1?e[Math.floor((e.length+1)/2)]:null;(null==v||v[o.field]!=n[o.field])&&(r.idField=o.field)}}}static scoreIdFieldFromEntityField(e,r){return Ae.scoreIdFieldFromProperty(e?.name,r)}static scoreIdFieldFromProperty(e,r){if(null==e)return!1;const n=e.toLowerCase();return"_id"===n?(r.field="_id",r.score=100,!0):("id"==n||"uniqueid"==n||"identifier"==n||"key"==n||"primaryKey"==n||"uniqueKey"==n?r.score<80&&(r.score=80,r.field=e):n.includes("unique")||n.includes("primary")?r.score<50&&(r.score=50,r.field=e):(n.includes("id")||n.includes("key"))&&r.score<30&&(r.score=30,r.field=e),!1)}static cleanUpDataBeforeSaving(e,r){null!=r?.idField&&"_id"!=r?.idField&&e.forEach(n=>{delete n._id})}static cleanUpLoadedData(e,r){null!=r&&(null==r.idField&&Ae.findSpecialFieldsFromData(e,r),e.forEach(n=>{var o;null!=r.idField&&"_id"!=r.idField&&(n._id=n[r.idField]),null===(o=r.dateFields)||void 0===o||o.forEach(f=>{const v=n[f];if(null!=v){let g=Date.parse(v);if(isNaN(g)){const R=v.lastIndexOf("[");-1!=R&&(g=Date.parse(v.substring(0,R)))}isNaN(g)?delete n[f]:n[f]=new Date(g)}})}))}static multiSortArray(e,r){return e}static calculateGroupedByValues(e,r,n,o,f){var v,g;if(null!=r&&null!=r.display){let R=r.of;null!=r.show&&(R=r.show.valueOf());const N=new Map;let G,H=new Map;const Z=r.getRequiredListOfFields();for(const ge of e){if(ge[R]!=G){G=ge[R];const de=N.get(G);null==de?(H=new Map,N.set(G,H)):H=de}for(const de of Z){let Y=H?.get(de);null==Y&&(Y=new ut,H.set(de,Y));const k=ge[de],re=k;if(null!=k)if("object"!=typeof k||k instanceof Date||null==n)"number"==typeof re?(null==Y.sum&&(Y.sum=0),Y.sum=Y.sum+re,(null==Y.minimum||re<Y.minimum)&&(Y.minimum=k,Y.minAsValue=k),(null==Y.maximum||re>Y.maximum)&&(Y.maximum=k,Y.maxAsValue=k),Y.count++):(re instanceof Date&&!isNaN(re.getTime())&&(Y.sum=null,(null==Y.minimum||re.valueOf()<Y.minimum.valueOf())&&(Y.minimum=k),(null==Y.maximum||re.valueOf()>Y.maximum.valueOf())&&(Y.maximum=k)),Y.count++);else{Y.sum=null==Y.sum?structuredClone(k):n.modifyValues(Y.sum,k,Y.metaData,(Re,Ye)=>null!=Re&&null!=Ye?Re+Ye:null==Re?Ye:null==Ye?Re:void 0,o,f);const ye=n.extractValue(k,Y.metaData,o,f);if(null==Y.minimum)Y.minimum=k,Y.minAsValue=ye;else{const Re=Y.minAsValue;null!=ye&&(null==Re||ye<Re)&&(Y.minimum=k,Y.minAsValue=ye)}if(null==Y.maximum)Y.maximum=k,Y.maxAsValue=ye;else{const Re=Y.maxAsValue;null!=ye&&(null==Re||ye>Re)&&(Y.maximum=k,Y.maxAsValue=ye)}null!=ye&&Y.count++}}}let ae;if(N.size>0){ae=new rt(r,new Map);for(const ge of N.keys()){const de=N.get(ge);for(const Y of Object.values(r.display)){let k;const re=de.get(Y.of);if(null!=re){switch(Y.operation){case Oe.Count:k=re.count;break;case Oe.Sum:k=re.sum;break;case Oe.Average:k=null==re.sum||0==re.count?null:"object"!=typeof re.sum||re.sum instanceof Date||null==n?re.sum/re.count:n.applyValue(structuredClone(re.sum),n.extractValue(re.sum,re.metaData,o,f)/re.count,re.metaData,void 0,o,f);break;case Oe.Minimum:k=re.minimum;break;case Oe.Maximum:k=re.maximum}let ye=null===(v=ae.values)||void 0===v?void 0:v.get(ge);null==ye&&(ye=new Array,null===(g=ae.values)||void 0===g||g.set(ge,ye)),ye.push(new nt(Y,k))}}}return ae.values.size>0?ae:void 0}}}}Ae.specialFieldsCache=new Map;class ut{constructor(){this.count=0,this.minAsValue=null,this.maxAsValue=null,this.metaData=new We}}class et{constructor(){this.dateFields=null,this.idField=null}addDateField(e){null==this.dateFields&&(this.dateFields=new Array),this.dateFields.push(e)}}class tt{constructor(e,r,n){this.sortedData=e,this.sortInfo=r,this.groupedByEntities=n}}class rt{constructor(e,r){this.groupInfo=e,this.values=r,null==r&&(this.values=new Map)}}class nt{constructor(e,r){this.forAggregate=e,this.value=r}}class st{constructor(e){this.modelMgr=e}safeLoadEntity(e,r){return this.loadEntity(e,r).then(n=>n??Promise.reject("Not found"))}searchEntities(e,...r){return this.listEntities(e).pipe((0,E.map)(n=>Ae.applyFilters(n,...r)))}listEntities(e){return this.searchEntities(e)}searchAndPrepareEntities(e,r,n,o,...f){return this.searchEntities(e,...f).pipe((0,E.map)(v=>null!=o?o.postLoadingTransformation(v):v),(0,E.map)(v=>{let g;return(null!=r||!0===n?.atLeastOneGroupIsRequested())&&(v=Ae.multiSortArray(v,this.calculateSortHierarchy(r,n)),null!=n&&(g=Ae.calculateGroupedByValues(v,n,this.modelMgr))),new tt(v,r,g)}))}calculateSortHierarchy(e,r){let n;return n=null!=r?new q(r.of,void 0,e):e,n}}class Be{static createDeleteChange(e,r,n,o,f){return Be.createAnyChange(K.DELETE,e,r,n,o,null,f)}static createMoveChange(e,r,n,o,f,v,g){const R=Be.createAnyChange(K.MOVE,n,o,f,v,null,g);return R.oldPosition=e,r&&(R.beforeKey=r),R}static createTestChange(e,r,n,o,f,v){return Be.createAnyChange(K.ADD,e,r,n,o,f,v)}static addDummyProviderFromContent(e,r,n){ze.getStoreManager().setProvider(new ct(r,n),e)}static waitUntilTrue(e,r,n,o){Be.waitUntilTrueAndEmit(e,n,o).then(f=>{f?r():r("Timeout waiting for an event")},f=>{r(f)})}static waitUntilTrueAndEmit(e,r,n){return n=n??50,(0,E.firstValueFrom)((0,E.timer)(r=r??50,r).pipe((0,E.take)(n),(0,E.filter)(()=>e()),(0,E.map)(()=>!0)),{defaultValue:!1})}static createAnyChange(e,r,n,o,f,v,g){var R;const N=n?"/"+n:"",G=f?"/"+f:"";let H=o?"/"+o:"";0==r.length&&(H=o||"");let Z=g?"/"+g:"";return 0==r.length&&0==H.length&&(Z=g||""),new he(e,r+N+H+G+Z,v,new te(r+N+H+G+Z,r+H+Z,r+N+(g?H+G:f?H:""),r+(g?H:""),null!==(R=g??f)&&void 0!==R?R:void 0,null!=g))}}class ct extends st{constructor(e,r){super(r),this.content=e}canStoreDocument(e){return!1}deleteEntity(e,r){return Promise.reject("Not implemented by Dummy tester")}loadEntity(e,r){return null!=this.content[r]?Promise.resolve(this.content[r]):Promise.reject("Not found")}searchEntities(e,...r){return Array.isArray(this.content)?(0,E.from)([this.content]):(0,E.from)([[this.content]])}storeDocuments(e,r){return(0,E.throwError)(()=>new Error("Not implemented by Dummy tester"))}storeEntity(e,r){return Promise.reject("Not implemented by Dummy tester")}}class ft{constructor(e){this.toRet=e}getJsonAt(e){return this.toRet}receiveCommands(e,r){return new E.Observable}calculatePointerFor(e){return ze.getSchemaManager().generateSchemaPointer(e)}getSchemaManager(){return ze.getSchemaManager()}sendCommand(e){return Promise.resolve(void 0)}}class dt{constructor(){this.name="",this.template=!1,this.description=""}}}}]);